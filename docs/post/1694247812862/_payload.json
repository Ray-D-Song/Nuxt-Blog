[{"data":1,"prerenderedAt":170},["Reactive",2],{"1694247812862":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":5,"_empty":6,"title":7,"description":8,"cover":9,"body":10,"_type":165,"_id":166,"_source":167,"_file":168,"_extension":169},"/1694247812862","",false,"并发与并行","这是一篇小短文, 白话文给自己归纳关于并发和并行的知识.","https://pic-base-1307984077.cos.ap-nanjing.myqcloud.com/202309091659266.png",{"type":11,"children":12,"toc":162},"root",[13,25,31,36,62,67,101,106,120,125],{"type":14,"tag":15,"props":16,"children":17},"element","blockquote",{},[18],{"type":14,"tag":19,"props":20,"children":21},"p",{},[22],{"type":23,"value":24},"text","这是一篇小短文, 白话文给自己归纳所学.",{"type":14,"tag":26,"props":27,"children":29},"h1",{"id":28},"并发",[30],{"type":23,"value":28},{"type":14,"tag":19,"props":32,"children":33},{},[34],{"type":23,"value":35},"假设有一个处理器, 因为只有一个核心, 所以同时他只能运行一个进程, 又因为一个进程上同一时间只能运行一个线程(task). 所以你可以认为, 同一时间, 这颗处理器只能处理一个任务.",{"type":14,"tag":19,"props":37,"children":38},{},[39,41,47,49,54,56],{"type":23,"value":40},"操作系统会将",{"type":14,"tag":42,"props":43,"children":44},"code-inline",{},[45],{"type":23,"value":46},"cpu 使用时间",{"type":23,"value":48},"这一资源进行切分, 这就是",{"type":14,"tag":42,"props":50,"children":51},{},[52],{"type":23,"value":53},"时间分片",{"type":23,"value":55},". 划分好的资源会按照调度算法分配给各个线程去使用. 进程内线程切换大概就是下面这种感觉:\n",{"type":14,"tag":57,"props":58,"children":61},"img",{"alt":59,"src":60},"线程调度","https://pic-base-1307984077.cos.ap-nanjing.myqcloud.com/202309091531790.png",[],{"type":14,"tag":19,"props":63,"children":64},{},[65],{"type":23,"value":66},"因为现代计算机性能足够强劲, 所以使用者体感上是 task_1、2、3 在同时运行, 这就是并发.",{"type":14,"tag":19,"props":68,"children":69},{},[70,72,77,79,84,86,90,92,96],{"type":23,"value":71},"我并不想用",{"type":14,"tag":42,"props":73,"children":74},{},[75],{"type":23,"value":76},"「多个任务同时发生」",{"type":23,"value":78},"这种模糊的表达, 在我看来",{"type":14,"tag":42,"props":80,"children":81},{},[82],{"type":23,"value":83},"「并发」",{"type":23,"value":85},"之所以被称为",{"type":14,"tag":42,"props":87,"children":88},{},[89],{"type":23,"value":83},{"type":23,"value":91},"单纯是翻译后中文表达的问题.",{"type":14,"tag":93,"props":94,"children":95},"br",{},[],{"type":14,"tag":42,"props":97,"children":98},{},[99],{"type":23,"value":100},"无论如何, 同时确实只有一个任务在进行",{"type":14,"tag":26,"props":102,"children":104},{"id":103},"并行",[105],{"type":23,"value":103},{"type":14,"tag":19,"props":107,"children":108},{},[109,111,114,116],{"type":23,"value":110},"并行就要好理解的多, 你有一个多核心处理器, 例如拥有两个核心的老古董E6600. 因为有两个核心, 同时能运行两个进程, 每个进程可以运行一个线程. 因此, 你的电脑就能真正的在同一时间运行两个任务.",{"type":14,"tag":93,"props":112,"children":113},{},[],{"type":23,"value":115},"\n大概就是下面这种感觉:\n",{"type":14,"tag":57,"props":117,"children":119},{"alt":103,"src":118},"https://pic-base-1307984077.cos.ap-nanjing.myqcloud.com/202309091547730.png",[],{"type":14,"tag":26,"props":121,"children":123},{"id":122},"程序设计",[124],{"type":23,"value":122},{"type":14,"tag":19,"props":126,"children":127},{},[128,130,135,138,140,143,145,150,152,155,157,161],{"type":23,"value":129},"之前刷知乎时, 看到这样一种说法:",{"type":14,"tag":42,"props":131,"children":132},{},[133],{"type":23,"value":134},"「你的程序首先必须支持并发, 才能支持并行」",{"type":14,"tag":93,"props":136,"children":137},{},[],{"type":23,"value":139},"\n因为并发不仅是对程序执行状态的一种描述, 也是一种程序设计的方法论:",{"type":14,"tag":93,"props":141,"children":142},{},[],{"type":23,"value":144},"\n设计并发程序的条件就是",{"type":14,"tag":42,"props":146,"children":147},{},[148],{"type":23,"value":149},"「程序的执行不依赖先后顺序、不依赖精确时序」",{"type":23,"value":151},".",{"type":14,"tag":93,"props":153,"children":154},{},[],{"type":23,"value":156},"\n而一段不依赖先后顺序、不依赖精确时序的程序, 自然可以拆分成多段, 在多个线程上运行. 这多个线程又可以运行在不同的进程之上, 进而实现",{"type":14,"tag":42,"props":158,"children":159},{},[160],{"type":23,"value":103},{"type":23,"value":151},{"title":5,"searchDepth":163,"depth":163,"links":164},2,[],"markdown","content:1694247812862.md","content","1694247812862.md","md",1702547988701]