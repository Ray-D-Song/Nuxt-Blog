[{"data":1,"prerenderedAt":3298},["Reactive",2],{"1694241377468":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":5,"_empty":6,"title":7,"description":8,"cover":9,"body":10,"_type":3293,"_id":3294,"_source":3295,"_file":3296,"_extension":3297},"/1694241377468","",false,"试试 WebComponents","最近突然觉得`All in Frontend Framework`非常的麻烦, 引入和编写了很多代码就为了解决一些简单的问题. 所以在寻找无痛嵌入 Rails/Larval/Django 等 mvc 框架的前端解决方案.","https://pic-base-1307984077.cos.ap-nanjing.myqcloud.com/202309091438630.png",{"type":11,"children":12,"toc":3285},"root",[13,29,48,60,796,806,813,829,1589,1740,1748,1752,1763,1768,1780,1856,1958,1964,1969,2057,2088,2093,2112,2193,2198,2353,2358,2401,3105,3239,3258,3281],{"type":14,"tag":15,"props":16,"children":17},"element","p",{},[18,21,27],{"type":19,"value":20},"text","最近突然觉得",{"type":14,"tag":22,"props":23,"children":24},"code-inline",{},[25],{"type":19,"value":26},"All in Frontend Framework",{"type":19,"value":28},"非常的麻烦, 引入和编写了很多代码就为了解决一些简单的问题. 所以在寻找无痛嵌入 Rails/Larval/Django 等 mvc 框架的前端解决方案.",{"type":14,"tag":15,"props":30,"children":31},{},[32,34,39,41,46],{"type":19,"value":33},"首先前端框架最大的意义是引入组件机制, 带来了逻辑的抽象和可复用性. 在这方面, 现代浏览器提供了一个原生的解决方案, ",{"type":14,"tag":22,"props":35,"children":36},{},[37],{"type":19,"value":38},"Web Components",{"type":19,"value":40}," (以下简称",{"type":14,"tag":22,"props":42,"children":43},{},[44],{"type":19,"value":45},"wcp",{"type":19,"value":47},").",{"type":14,"tag":15,"props":49,"children":50},{},[51,53,58],{"type":19,"value":52},"wcp 是基于 JavaScript class 的封装, 先看一个简单的 ",{"type":14,"tag":22,"props":54,"children":55},{},[56],{"type":19,"value":57},"Card",{"type":19,"value":59}," 组件示例, 然后再解释一些关键的概念.",{"type":14,"tag":61,"props":62,"children":67},"code",{"className":63,"code":65,"language":66,"meta":5},[64],"language-html","\u003Cbody>\n  \u003Ctemplate id=\"custom-card-template\">\n    \u003Cstyle>\n      /* 省略样式 */\n    \u003C/style>\n    \u003Cdiv class=\"container\">\n      \u003Cimg class=\"cover\" src=\"https://lit.dev/images/logo.svg\">\n      \u003Cdiv class=\"desc\">Web Components FrameWork\u003C/div>\n    \u003C/div>\n  \u003C/template>\n\n  \u003Cdiv>自定义卡片组件: \u003C/div>\n  \u003Ccustom-card>\u003C/custom-card>\n\u003C/body>\n\n\u003Cscript>\n  customElements.define('custom-card', ( // wcp 的定义方法\n    class card extends HTMLElement{\n      constructor() {\n        super() // super 方法必须放在顶部\n\n        const root = this.attachShadow({mode: 'open'}) // 创建 shadowDOM 的根元素\n        const template = document.getElementById('custom-card-template').content // 获取模板内容\n        root.appendChild(template.cloneNode(true)) // 挂载模板\n      }\n    }\n  ))\n\u003C/script>\n","html",[68],{"type":14,"tag":69,"props":70,"children":71},"pre",{},[72],{"type":14,"tag":61,"props":73,"children":74},{"__ignoreMap":5},[75,98,138,156,171,188,223,276,318,334,351,360,385,411,428,436,453,487,533,551,576,584,652,709,752,761,770,779],{"type":14,"tag":76,"props":77,"children":80},"span",{"class":78,"line":79},"line",1,[81,87,93],{"type":14,"tag":76,"props":82,"children":84},{"class":83},"ct-212337",[85],{"type":19,"value":86},"\u003C",{"type":14,"tag":76,"props":88,"children":90},{"class":89},"ct-735963",[91],{"type":19,"value":92},"body",{"type":14,"tag":76,"props":94,"children":95},{"class":83},[96],{"type":19,"value":97},">\n",{"type":14,"tag":76,"props":99,"children":101},{"class":78,"line":100},2,[102,107,112,117,123,128,134],{"type":14,"tag":76,"props":103,"children":104},{"class":83},[105],{"type":19,"value":106},"  \u003C",{"type":14,"tag":76,"props":108,"children":109},{"class":89},[110],{"type":19,"value":111},"template",{"type":14,"tag":76,"props":113,"children":114},{"class":83},[115],{"type":19,"value":116}," ",{"type":14,"tag":76,"props":118,"children":120},{"class":119},"ct-941699",[121],{"type":19,"value":122},"id",{"type":14,"tag":76,"props":124,"children":125},{"class":83},[126],{"type":19,"value":127},"=",{"type":14,"tag":76,"props":129,"children":131},{"class":130},"ct-695486",[132],{"type":19,"value":133},"\"custom-card-template\"",{"type":14,"tag":76,"props":135,"children":136},{"class":83},[137],{"type":19,"value":97},{"type":14,"tag":76,"props":139,"children":141},{"class":78,"line":140},3,[142,147,152],{"type":14,"tag":76,"props":143,"children":144},{"class":83},[145],{"type":19,"value":146},"    \u003C",{"type":14,"tag":76,"props":148,"children":149},{"class":89},[150],{"type":19,"value":151},"style",{"type":14,"tag":76,"props":153,"children":154},{"class":83},[155],{"type":19,"value":97},{"type":14,"tag":76,"props":157,"children":159},{"class":78,"line":158},4,[160,165],{"type":14,"tag":76,"props":161,"children":162},{"class":83},[163],{"type":19,"value":164},"      ",{"type":14,"tag":76,"props":166,"children":168},{"class":167},"ct-782603",[169],{"type":19,"value":170},"/* 省略样式 */\n",{"type":14,"tag":76,"props":172,"children":174},{"class":78,"line":173},5,[175,180,184],{"type":14,"tag":76,"props":176,"children":177},{"class":83},[178],{"type":19,"value":179},"    \u003C/",{"type":14,"tag":76,"props":181,"children":182},{"class":89},[183],{"type":19,"value":151},{"type":14,"tag":76,"props":185,"children":186},{"class":83},[187],{"type":19,"value":97},{"type":14,"tag":76,"props":189,"children":191},{"class":78,"line":190},6,[192,196,201,205,210,214,219],{"type":14,"tag":76,"props":193,"children":194},{"class":83},[195],{"type":19,"value":146},{"type":14,"tag":76,"props":197,"children":198},{"class":89},[199],{"type":19,"value":200},"div",{"type":14,"tag":76,"props":202,"children":203},{"class":83},[204],{"type":19,"value":116},{"type":14,"tag":76,"props":206,"children":207},{"class":119},[208],{"type":19,"value":209},"class",{"type":14,"tag":76,"props":211,"children":212},{"class":83},[213],{"type":19,"value":127},{"type":14,"tag":76,"props":215,"children":216},{"class":130},[217],{"type":19,"value":218},"\"container\"",{"type":14,"tag":76,"props":220,"children":221},{"class":83},[222],{"type":19,"value":97},{"type":14,"tag":76,"props":224,"children":226},{"class":78,"line":225},7,[227,232,237,241,245,249,254,258,263,267,272],{"type":14,"tag":76,"props":228,"children":229},{"class":83},[230],{"type":19,"value":231},"      \u003C",{"type":14,"tag":76,"props":233,"children":234},{"class":89},[235],{"type":19,"value":236},"img",{"type":14,"tag":76,"props":238,"children":239},{"class":83},[240],{"type":19,"value":116},{"type":14,"tag":76,"props":242,"children":243},{"class":119},[244],{"type":19,"value":209},{"type":14,"tag":76,"props":246,"children":247},{"class":83},[248],{"type":19,"value":127},{"type":14,"tag":76,"props":250,"children":251},{"class":130},[252],{"type":19,"value":253},"\"cover\"",{"type":14,"tag":76,"props":255,"children":256},{"class":83},[257],{"type":19,"value":116},{"type":14,"tag":76,"props":259,"children":260},{"class":119},[261],{"type":19,"value":262},"src",{"type":14,"tag":76,"props":264,"children":265},{"class":83},[266],{"type":19,"value":127},{"type":14,"tag":76,"props":268,"children":269},{"class":130},[270],{"type":19,"value":271},"\"https://lit.dev/images/logo.svg\"",{"type":14,"tag":76,"props":273,"children":274},{"class":83},[275],{"type":19,"value":97},{"type":14,"tag":76,"props":277,"children":279},{"class":78,"line":278},8,[280,284,288,292,296,300,305,310,314],{"type":14,"tag":76,"props":281,"children":282},{"class":83},[283],{"type":19,"value":231},{"type":14,"tag":76,"props":285,"children":286},{"class":89},[287],{"type":19,"value":200},{"type":14,"tag":76,"props":289,"children":290},{"class":83},[291],{"type":19,"value":116},{"type":14,"tag":76,"props":293,"children":294},{"class":119},[295],{"type":19,"value":209},{"type":14,"tag":76,"props":297,"children":298},{"class":83},[299],{"type":19,"value":127},{"type":14,"tag":76,"props":301,"children":302},{"class":130},[303],{"type":19,"value":304},"\"desc\"",{"type":14,"tag":76,"props":306,"children":307},{"class":83},[308],{"type":19,"value":309},">Web Components FrameWork\u003C/",{"type":14,"tag":76,"props":311,"children":312},{"class":89},[313],{"type":19,"value":200},{"type":14,"tag":76,"props":315,"children":316},{"class":83},[317],{"type":19,"value":97},{"type":14,"tag":76,"props":319,"children":321},{"class":78,"line":320},9,[322,326,330],{"type":14,"tag":76,"props":323,"children":324},{"class":83},[325],{"type":19,"value":179},{"type":14,"tag":76,"props":327,"children":328},{"class":89},[329],{"type":19,"value":200},{"type":14,"tag":76,"props":331,"children":332},{"class":83},[333],{"type":19,"value":97},{"type":14,"tag":76,"props":335,"children":337},{"class":78,"line":336},10,[338,343,347],{"type":14,"tag":76,"props":339,"children":340},{"class":83},[341],{"type":19,"value":342},"  \u003C/",{"type":14,"tag":76,"props":344,"children":345},{"class":89},[346],{"type":19,"value":111},{"type":14,"tag":76,"props":348,"children":349},{"class":83},[350],{"type":19,"value":97},{"type":14,"tag":76,"props":352,"children":354},{"class":78,"line":353},11,[355],{"type":14,"tag":76,"props":356,"children":357},{},[358],{"type":19,"value":359},"\n",{"type":14,"tag":76,"props":361,"children":363},{"class":78,"line":362},12,[364,368,372,377,381],{"type":14,"tag":76,"props":365,"children":366},{"class":83},[367],{"type":19,"value":106},{"type":14,"tag":76,"props":369,"children":370},{"class":89},[371],{"type":19,"value":200},{"type":14,"tag":76,"props":373,"children":374},{"class":83},[375],{"type":19,"value":376},">自定义卡片组件: \u003C/",{"type":14,"tag":76,"props":378,"children":379},{"class":89},[380],{"type":19,"value":200},{"type":14,"tag":76,"props":382,"children":383},{"class":83},[384],{"type":19,"value":97},{"type":14,"tag":76,"props":386,"children":388},{"class":78,"line":387},13,[389,393,398,403,407],{"type":14,"tag":76,"props":390,"children":391},{"class":83},[392],{"type":19,"value":106},{"type":14,"tag":76,"props":394,"children":395},{"class":89},[396],{"type":19,"value":397},"custom-card",{"type":14,"tag":76,"props":399,"children":400},{"class":83},[401],{"type":19,"value":402},">\u003C/",{"type":14,"tag":76,"props":404,"children":405},{"class":89},[406],{"type":19,"value":397},{"type":14,"tag":76,"props":408,"children":409},{"class":83},[410],{"type":19,"value":97},{"type":14,"tag":76,"props":412,"children":414},{"class":78,"line":413},14,[415,420,424],{"type":14,"tag":76,"props":416,"children":417},{"class":83},[418],{"type":19,"value":419},"\u003C/",{"type":14,"tag":76,"props":421,"children":422},{"class":89},[423],{"type":19,"value":92},{"type":14,"tag":76,"props":425,"children":426},{"class":83},[427],{"type":19,"value":97},{"type":14,"tag":76,"props":429,"children":431},{"class":78,"line":430},15,[432],{"type":14,"tag":76,"props":433,"children":434},{},[435],{"type":19,"value":359},{"type":14,"tag":76,"props":437,"children":439},{"class":78,"line":438},16,[440,444,449],{"type":14,"tag":76,"props":441,"children":442},{"class":83},[443],{"type":19,"value":86},{"type":14,"tag":76,"props":445,"children":446},{"class":89},[447],{"type":19,"value":448},"script",{"type":14,"tag":76,"props":450,"children":451},{"class":83},[452],{"type":19,"value":97},{"type":14,"tag":76,"props":454,"children":456},{"class":78,"line":455},17,[457,462,467,472,477,482],{"type":14,"tag":76,"props":458,"children":459},{"class":83},[460],{"type":19,"value":461},"  customElements.",{"type":14,"tag":76,"props":463,"children":464},{"class":119},[465],{"type":19,"value":466},"define",{"type":14,"tag":76,"props":468,"children":469},{"class":83},[470],{"type":19,"value":471},"(",{"type":14,"tag":76,"props":473,"children":474},{"class":130},[475],{"type":19,"value":476},"'custom-card'",{"type":14,"tag":76,"props":478,"children":479},{"class":83},[480],{"type":19,"value":481},", ( ",{"type":14,"tag":76,"props":483,"children":484},{"class":167},[485],{"type":19,"value":486},"// wcp 的定义方法\n",{"type":14,"tag":76,"props":488,"children":490},{"class":78,"line":489},18,[491,496,501,505,510,514,519,523,528],{"type":14,"tag":76,"props":492,"children":493},{"class":83},[494],{"type":19,"value":495},"    ",{"type":14,"tag":76,"props":497,"children":499},{"class":498},"ct-984823",[500],{"type":19,"value":209},{"type":14,"tag":76,"props":502,"children":503},{"class":83},[504],{"type":19,"value":116},{"type":14,"tag":76,"props":506,"children":507},{"class":119},[508],{"type":19,"value":509},"card",{"type":14,"tag":76,"props":511,"children":512},{"class":83},[513],{"type":19,"value":116},{"type":14,"tag":76,"props":515,"children":516},{"class":498},[517],{"type":19,"value":518},"extends",{"type":14,"tag":76,"props":520,"children":521},{"class":83},[522],{"type":19,"value":116},{"type":14,"tag":76,"props":524,"children":525},{"class":119},[526],{"type":19,"value":527},"HTMLElement",{"type":14,"tag":76,"props":529,"children":530},{"class":83},[531],{"type":19,"value":532},"{\n",{"type":14,"tag":76,"props":534,"children":536},{"class":78,"line":535},19,[537,541,546],{"type":14,"tag":76,"props":538,"children":539},{"class":83},[540],{"type":19,"value":164},{"type":14,"tag":76,"props":542,"children":543},{"class":498},[544],{"type":19,"value":545},"constructor",{"type":14,"tag":76,"props":547,"children":548},{"class":83},[549],{"type":19,"value":550},"() {\n",{"type":14,"tag":76,"props":552,"children":554},{"class":78,"line":553},20,[555,560,566,571],{"type":14,"tag":76,"props":556,"children":557},{"class":83},[558],{"type":19,"value":559},"        ",{"type":14,"tag":76,"props":561,"children":563},{"class":562},"ct-055721",[564],{"type":19,"value":565},"super",{"type":14,"tag":76,"props":567,"children":568},{"class":83},[569],{"type":19,"value":570},"() ",{"type":14,"tag":76,"props":572,"children":573},{"class":167},[574],{"type":19,"value":575},"// super 方法必须放在顶部\n",{"type":14,"tag":76,"props":577,"children":579},{"class":78,"line":578},21,[580],{"type":14,"tag":76,"props":581,"children":582},{},[583],{"type":19,"value":359},{"type":14,"tag":76,"props":585,"children":587},{"class":78,"line":586},22,[588,592,597,601,605,609,613,617,622,627,632,637,642,647],{"type":14,"tag":76,"props":589,"children":590},{"class":83},[591],{"type":19,"value":559},{"type":14,"tag":76,"props":593,"children":594},{"class":498},[595],{"type":19,"value":596},"const",{"type":14,"tag":76,"props":598,"children":599},{"class":83},[600],{"type":19,"value":116},{"type":14,"tag":76,"props":602,"children":603},{"class":562},[604],{"type":19,"value":11},{"type":14,"tag":76,"props":606,"children":607},{"class":83},[608],{"type":19,"value":116},{"type":14,"tag":76,"props":610,"children":611},{"class":498},[612],{"type":19,"value":127},{"type":14,"tag":76,"props":614,"children":615},{"class":83},[616],{"type":19,"value":116},{"type":14,"tag":76,"props":618,"children":619},{"class":562},[620],{"type":19,"value":621},"this",{"type":14,"tag":76,"props":623,"children":624},{"class":83},[625],{"type":19,"value":626},".",{"type":14,"tag":76,"props":628,"children":629},{"class":119},[630],{"type":19,"value":631},"attachShadow",{"type":14,"tag":76,"props":633,"children":634},{"class":83},[635],{"type":19,"value":636},"({mode: ",{"type":14,"tag":76,"props":638,"children":639},{"class":130},[640],{"type":19,"value":641},"'open'",{"type":14,"tag":76,"props":643,"children":644},{"class":83},[645],{"type":19,"value":646},"}) ",{"type":14,"tag":76,"props":648,"children":649},{"class":167},[650],{"type":19,"value":651},"// 创建 shadowDOM 的根元素\n",{"type":14,"tag":76,"props":653,"children":655},{"class":78,"line":654},23,[656,660,664,668,672,676,680,685,690,694,699,704],{"type":14,"tag":76,"props":657,"children":658},{"class":83},[659],{"type":19,"value":559},{"type":14,"tag":76,"props":661,"children":662},{"class":498},[663],{"type":19,"value":596},{"type":14,"tag":76,"props":665,"children":666},{"class":83},[667],{"type":19,"value":116},{"type":14,"tag":76,"props":669,"children":670},{"class":562},[671],{"type":19,"value":111},{"type":14,"tag":76,"props":673,"children":674},{"class":83},[675],{"type":19,"value":116},{"type":14,"tag":76,"props":677,"children":678},{"class":498},[679],{"type":19,"value":127},{"type":14,"tag":76,"props":681,"children":682},{"class":83},[683],{"type":19,"value":684}," document.",{"type":14,"tag":76,"props":686,"children":687},{"class":119},[688],{"type":19,"value":689},"getElementById",{"type":14,"tag":76,"props":691,"children":692},{"class":83},[693],{"type":19,"value":471},{"type":14,"tag":76,"props":695,"children":696},{"class":130},[697],{"type":19,"value":698},"'custom-card-template'",{"type":14,"tag":76,"props":700,"children":701},{"class":83},[702],{"type":19,"value":703},").content ",{"type":14,"tag":76,"props":705,"children":706},{"class":167},[707],{"type":19,"value":708},"// 获取模板内容\n",{"type":14,"tag":76,"props":710,"children":712},{"class":78,"line":711},24,[713,718,723,728,733,737,742,747],{"type":14,"tag":76,"props":714,"children":715},{"class":83},[716],{"type":19,"value":717},"        root.",{"type":14,"tag":76,"props":719,"children":720},{"class":119},[721],{"type":19,"value":722},"appendChild",{"type":14,"tag":76,"props":724,"children":725},{"class":83},[726],{"type":19,"value":727},"(template.",{"type":14,"tag":76,"props":729,"children":730},{"class":119},[731],{"type":19,"value":732},"cloneNode",{"type":14,"tag":76,"props":734,"children":735},{"class":83},[736],{"type":19,"value":471},{"type":14,"tag":76,"props":738,"children":739},{"class":562},[740],{"type":19,"value":741},"true",{"type":14,"tag":76,"props":743,"children":744},{"class":83},[745],{"type":19,"value":746},")) ",{"type":14,"tag":76,"props":748,"children":749},{"class":167},[750],{"type":19,"value":751},"// 挂载模板\n",{"type":14,"tag":76,"props":753,"children":755},{"class":78,"line":754},25,[756],{"type":14,"tag":76,"props":757,"children":758},{"class":83},[759],{"type":19,"value":760},"      }\n",{"type":14,"tag":76,"props":762,"children":764},{"class":78,"line":763},26,[765],{"type":14,"tag":76,"props":766,"children":767},{"class":83},[768],{"type":19,"value":769},"    }\n",{"type":14,"tag":76,"props":771,"children":773},{"class":78,"line":772},27,[774],{"type":14,"tag":76,"props":775,"children":776},{"class":83},[777],{"type":19,"value":778},"  ))\n",{"type":14,"tag":76,"props":780,"children":782},{"class":78,"line":781},28,[783,787,791],{"type":14,"tag":76,"props":784,"children":785},{"class":83},[786],{"type":19,"value":419},{"type":14,"tag":76,"props":788,"children":789},{"class":89},[790],{"type":19,"value":448},{"type":14,"tag":76,"props":792,"children":793},{"class":83},[794],{"type":19,"value":795},">",{"type":14,"tag":15,"props":797,"children":798},{},[799,801],{"type":19,"value":800},"showcase:\n",{"type":14,"tag":236,"props":802,"children":805},{"alt":803,"src":804},"showcase","https://pic-base-1307984077.cos.ap-nanjing.myqcloud.com/202309062231860.png",[],{"type":14,"tag":807,"props":808,"children":810},"h2",{"id":809},"customelementsdefine",[811],{"type":19,"value":812},"customElements.define",{"type":14,"tag":15,"props":814,"children":815},{},[816,818,822,824],{"type":19,"value":817},"定义web components 的方法, 接收三个参数, 组件名、定义组件的类、继承自哪个原生元素(可选)\n上面的例子是自定了一个全新的元素, 你也可以选择基于",{"type":14,"tag":22,"props":819,"children":820},{},[821],{"type":19,"value":76},{"type":19,"value":823},"标签去定义一个鼠标放置就会出现提示文案的",{"type":14,"tag":22,"props":825,"children":826},{},[827],{"type":19,"value":828},"tooltip-span",{"type":14,"tag":61,"props":830,"children":835},{"className":831,"code":833,"language":834,"meta":5},[832],"language-js","window.customElements.define('tool-tip',\n  class toolTip extends HTMLSpanElement { // 继承 span 元素\n    constructor() {\n      super()\n      const spans = document.querySelectorAll('span')\n      spans.forEach((item) => {\n        if(item.getAttribute('is')==='tool-tip'){\n          item.style.position = 'relative'\n          // 注册光标放置事件, 放置后添加tip子元素\n          item.addEventListener('mouseenter', () => {\n            const tip = document.createElement('span')\n            tip.textContent = \"When you hover your mouse over it, a more detailed description will appear.\"\n            // 样式\n            tip.style.position = 'absolute'\n            tip.style.top = '100%'\n            tip.style.left = '0'\n            tip.style.backgroundColor = '#111827'\n            tip.style.color = '#98ABB9'\n            tip.id = 'tip'\n            item.appendChild(tip)\n          })\n          // 光标离开后移除子元素\n          item.addEventListener('mouseout', () => {\n            const tips = document.querySelectorAll('#tip')\n            tips.forEach(item => item.remove())\n          })\n        }\n      })\n    }\n  }, {\n  extends: 'span'\n})\n","js",[836],{"type":14,"tag":69,"props":837,"children":838},{},[839],{"type":14,"tag":61,"props":840,"children":841},{"__ignoreMap":5},[842,868,916,931,947,998,1037,1087,1108,1121,1156,1206,1227,1239,1260,1281,1302,1323,1344,1365,1382,1390,1402,1434,1483,1526,1533,1541,1549,1557,1566,1580],{"type":14,"tag":76,"props":843,"children":844},{"class":78,"line":79},[845,850,854,858,863],{"type":14,"tag":76,"props":846,"children":847},{"class":83},[848],{"type":19,"value":849},"window.customElements.",{"type":14,"tag":76,"props":851,"children":852},{"class":119},[853],{"type":19,"value":466},{"type":14,"tag":76,"props":855,"children":856},{"class":83},[857],{"type":19,"value":471},{"type":14,"tag":76,"props":859,"children":860},{"class":130},[861],{"type":19,"value":862},"'tool-tip'",{"type":14,"tag":76,"props":864,"children":865},{"class":83},[866],{"type":19,"value":867},",\n",{"type":14,"tag":76,"props":869,"children":870},{"class":78,"line":100},[871,876,880,884,889,893,897,901,906,911],{"type":14,"tag":76,"props":872,"children":873},{"class":83},[874],{"type":19,"value":875},"  ",{"type":14,"tag":76,"props":877,"children":878},{"class":498},[879],{"type":19,"value":209},{"type":14,"tag":76,"props":881,"children":882},{"class":83},[883],{"type":19,"value":116},{"type":14,"tag":76,"props":885,"children":886},{"class":119},[887],{"type":19,"value":888},"toolTip",{"type":14,"tag":76,"props":890,"children":891},{"class":83},[892],{"type":19,"value":116},{"type":14,"tag":76,"props":894,"children":895},{"class":498},[896],{"type":19,"value":518},{"type":14,"tag":76,"props":898,"children":899},{"class":83},[900],{"type":19,"value":116},{"type":14,"tag":76,"props":902,"children":903},{"class":119},[904],{"type":19,"value":905},"HTMLSpanElement",{"type":14,"tag":76,"props":907,"children":908},{"class":83},[909],{"type":19,"value":910}," { ",{"type":14,"tag":76,"props":912,"children":913},{"class":167},[914],{"type":19,"value":915},"// 继承 span 元素\n",{"type":14,"tag":76,"props":917,"children":918},{"class":78,"line":140},[919,923,927],{"type":14,"tag":76,"props":920,"children":921},{"class":83},[922],{"type":19,"value":495},{"type":14,"tag":76,"props":924,"children":925},{"class":498},[926],{"type":19,"value":545},{"type":14,"tag":76,"props":928,"children":929},{"class":83},[930],{"type":19,"value":550},{"type":14,"tag":76,"props":932,"children":933},{"class":78,"line":158},[934,938,942],{"type":14,"tag":76,"props":935,"children":936},{"class":83},[937],{"type":19,"value":164},{"type":14,"tag":76,"props":939,"children":940},{"class":562},[941],{"type":19,"value":565},{"type":14,"tag":76,"props":943,"children":944},{"class":83},[945],{"type":19,"value":946},"()\n",{"type":14,"tag":76,"props":948,"children":949},{"class":78,"line":173},[950,954,958,962,967,971,975,979,984,988,993],{"type":14,"tag":76,"props":951,"children":952},{"class":83},[953],{"type":19,"value":164},{"type":14,"tag":76,"props":955,"children":956},{"class":498},[957],{"type":19,"value":596},{"type":14,"tag":76,"props":959,"children":960},{"class":83},[961],{"type":19,"value":116},{"type":14,"tag":76,"props":963,"children":964},{"class":562},[965],{"type":19,"value":966},"spans",{"type":14,"tag":76,"props":968,"children":969},{"class":83},[970],{"type":19,"value":116},{"type":14,"tag":76,"props":972,"children":973},{"class":498},[974],{"type":19,"value":127},{"type":14,"tag":76,"props":976,"children":977},{"class":83},[978],{"type":19,"value":684},{"type":14,"tag":76,"props":980,"children":981},{"class":119},[982],{"type":19,"value":983},"querySelectorAll",{"type":14,"tag":76,"props":985,"children":986},{"class":83},[987],{"type":19,"value":471},{"type":14,"tag":76,"props":989,"children":990},{"class":130},[991],{"type":19,"value":992},"'span'",{"type":14,"tag":76,"props":994,"children":995},{"class":83},[996],{"type":19,"value":997},")\n",{"type":14,"tag":76,"props":999,"children":1000},{"class":78,"line":190},[1001,1006,1011,1016,1022,1027,1032],{"type":14,"tag":76,"props":1002,"children":1003},{"class":83},[1004],{"type":19,"value":1005},"      spans.",{"type":14,"tag":76,"props":1007,"children":1008},{"class":119},[1009],{"type":19,"value":1010},"forEach",{"type":14,"tag":76,"props":1012,"children":1013},{"class":83},[1014],{"type":19,"value":1015},"((",{"type":14,"tag":76,"props":1017,"children":1019},{"class":1018},"ct-880416",[1020],{"type":19,"value":1021},"item",{"type":14,"tag":76,"props":1023,"children":1024},{"class":83},[1025],{"type":19,"value":1026},") ",{"type":14,"tag":76,"props":1028,"children":1029},{"class":498},[1030],{"type":19,"value":1031},"=>",{"type":14,"tag":76,"props":1033,"children":1034},{"class":83},[1035],{"type":19,"value":1036}," {\n",{"type":14,"tag":76,"props":1038,"children":1039},{"class":78,"line":225},[1040,1044,1049,1054,1059,1063,1068,1073,1078,1082],{"type":14,"tag":76,"props":1041,"children":1042},{"class":83},[1043],{"type":19,"value":559},{"type":14,"tag":76,"props":1045,"children":1046},{"class":498},[1047],{"type":19,"value":1048},"if",{"type":14,"tag":76,"props":1050,"children":1051},{"class":83},[1052],{"type":19,"value":1053},"(item.",{"type":14,"tag":76,"props":1055,"children":1056},{"class":119},[1057],{"type":19,"value":1058},"getAttribute",{"type":14,"tag":76,"props":1060,"children":1061},{"class":83},[1062],{"type":19,"value":471},{"type":14,"tag":76,"props":1064,"children":1065},{"class":130},[1066],{"type":19,"value":1067},"'is'",{"type":14,"tag":76,"props":1069,"children":1070},{"class":83},[1071],{"type":19,"value":1072},")",{"type":14,"tag":76,"props":1074,"children":1075},{"class":498},[1076],{"type":19,"value":1077},"===",{"type":14,"tag":76,"props":1079,"children":1080},{"class":130},[1081],{"type":19,"value":862},{"type":14,"tag":76,"props":1083,"children":1084},{"class":83},[1085],{"type":19,"value":1086},"){\n",{"type":14,"tag":76,"props":1088,"children":1089},{"class":78,"line":278},[1090,1095,1099,1103],{"type":14,"tag":76,"props":1091,"children":1092},{"class":83},[1093],{"type":19,"value":1094},"          item.style.position ",{"type":14,"tag":76,"props":1096,"children":1097},{"class":498},[1098],{"type":19,"value":127},{"type":14,"tag":76,"props":1100,"children":1101},{"class":83},[1102],{"type":19,"value":116},{"type":14,"tag":76,"props":1104,"children":1105},{"class":130},[1106],{"type":19,"value":1107},"'relative'\n",{"type":14,"tag":76,"props":1109,"children":1110},{"class":78,"line":320},[1111,1116],{"type":14,"tag":76,"props":1112,"children":1113},{"class":83},[1114],{"type":19,"value":1115},"          ",{"type":14,"tag":76,"props":1117,"children":1118},{"class":167},[1119],{"type":19,"value":1120},"// 注册光标放置事件, 放置后添加tip子元素\n",{"type":14,"tag":76,"props":1122,"children":1123},{"class":78,"line":336},[1124,1129,1134,1138,1143,1148,1152],{"type":14,"tag":76,"props":1125,"children":1126},{"class":83},[1127],{"type":19,"value":1128},"          item.",{"type":14,"tag":76,"props":1130,"children":1131},{"class":119},[1132],{"type":19,"value":1133},"addEventListener",{"type":14,"tag":76,"props":1135,"children":1136},{"class":83},[1137],{"type":19,"value":471},{"type":14,"tag":76,"props":1139,"children":1140},{"class":130},[1141],{"type":19,"value":1142},"'mouseenter'",{"type":14,"tag":76,"props":1144,"children":1145},{"class":83},[1146],{"type":19,"value":1147},", () ",{"type":14,"tag":76,"props":1149,"children":1150},{"class":498},[1151],{"type":19,"value":1031},{"type":14,"tag":76,"props":1153,"children":1154},{"class":83},[1155],{"type":19,"value":1036},{"type":14,"tag":76,"props":1157,"children":1158},{"class":78,"line":353},[1159,1164,1168,1172,1177,1181,1185,1189,1194,1198,1202],{"type":14,"tag":76,"props":1160,"children":1161},{"class":83},[1162],{"type":19,"value":1163},"            ",{"type":14,"tag":76,"props":1165,"children":1166},{"class":498},[1167],{"type":19,"value":596},{"type":14,"tag":76,"props":1169,"children":1170},{"class":83},[1171],{"type":19,"value":116},{"type":14,"tag":76,"props":1173,"children":1174},{"class":562},[1175],{"type":19,"value":1176},"tip",{"type":14,"tag":76,"props":1178,"children":1179},{"class":83},[1180],{"type":19,"value":116},{"type":14,"tag":76,"props":1182,"children":1183},{"class":498},[1184],{"type":19,"value":127},{"type":14,"tag":76,"props":1186,"children":1187},{"class":83},[1188],{"type":19,"value":684},{"type":14,"tag":76,"props":1190,"children":1191},{"class":119},[1192],{"type":19,"value":1193},"createElement",{"type":14,"tag":76,"props":1195,"children":1196},{"class":83},[1197],{"type":19,"value":471},{"type":14,"tag":76,"props":1199,"children":1200},{"class":130},[1201],{"type":19,"value":992},{"type":14,"tag":76,"props":1203,"children":1204},{"class":83},[1205],{"type":19,"value":997},{"type":14,"tag":76,"props":1207,"children":1208},{"class":78,"line":362},[1209,1214,1218,1222],{"type":14,"tag":76,"props":1210,"children":1211},{"class":83},[1212],{"type":19,"value":1213},"            tip.textContent ",{"type":14,"tag":76,"props":1215,"children":1216},{"class":498},[1217],{"type":19,"value":127},{"type":14,"tag":76,"props":1219,"children":1220},{"class":83},[1221],{"type":19,"value":116},{"type":14,"tag":76,"props":1223,"children":1224},{"class":130},[1225],{"type":19,"value":1226},"\"When you hover your mouse over it, a more detailed description will appear.\"\n",{"type":14,"tag":76,"props":1228,"children":1229},{"class":78,"line":387},[1230,1234],{"type":14,"tag":76,"props":1231,"children":1232},{"class":83},[1233],{"type":19,"value":1163},{"type":14,"tag":76,"props":1235,"children":1236},{"class":167},[1237],{"type":19,"value":1238},"// 样式\n",{"type":14,"tag":76,"props":1240,"children":1241},{"class":78,"line":413},[1242,1247,1251,1255],{"type":14,"tag":76,"props":1243,"children":1244},{"class":83},[1245],{"type":19,"value":1246},"            tip.style.position ",{"type":14,"tag":76,"props":1248,"children":1249},{"class":498},[1250],{"type":19,"value":127},{"type":14,"tag":76,"props":1252,"children":1253},{"class":83},[1254],{"type":19,"value":116},{"type":14,"tag":76,"props":1256,"children":1257},{"class":130},[1258],{"type":19,"value":1259},"'absolute'\n",{"type":14,"tag":76,"props":1261,"children":1262},{"class":78,"line":430},[1263,1268,1272,1276],{"type":14,"tag":76,"props":1264,"children":1265},{"class":83},[1266],{"type":19,"value":1267},"            tip.style.top ",{"type":14,"tag":76,"props":1269,"children":1270},{"class":498},[1271],{"type":19,"value":127},{"type":14,"tag":76,"props":1273,"children":1274},{"class":83},[1275],{"type":19,"value":116},{"type":14,"tag":76,"props":1277,"children":1278},{"class":130},[1279],{"type":19,"value":1280},"'100%'\n",{"type":14,"tag":76,"props":1282,"children":1283},{"class":78,"line":438},[1284,1289,1293,1297],{"type":14,"tag":76,"props":1285,"children":1286},{"class":83},[1287],{"type":19,"value":1288},"            tip.style.left ",{"type":14,"tag":76,"props":1290,"children":1291},{"class":498},[1292],{"type":19,"value":127},{"type":14,"tag":76,"props":1294,"children":1295},{"class":83},[1296],{"type":19,"value":116},{"type":14,"tag":76,"props":1298,"children":1299},{"class":130},[1300],{"type":19,"value":1301},"'0'\n",{"type":14,"tag":76,"props":1303,"children":1304},{"class":78,"line":455},[1305,1310,1314,1318],{"type":14,"tag":76,"props":1306,"children":1307},{"class":83},[1308],{"type":19,"value":1309},"            tip.style.backgroundColor ",{"type":14,"tag":76,"props":1311,"children":1312},{"class":498},[1313],{"type":19,"value":127},{"type":14,"tag":76,"props":1315,"children":1316},{"class":83},[1317],{"type":19,"value":116},{"type":14,"tag":76,"props":1319,"children":1320},{"class":130},[1321],{"type":19,"value":1322},"'#111827'\n",{"type":14,"tag":76,"props":1324,"children":1325},{"class":78,"line":489},[1326,1331,1335,1339],{"type":14,"tag":76,"props":1327,"children":1328},{"class":83},[1329],{"type":19,"value":1330},"            tip.style.color ",{"type":14,"tag":76,"props":1332,"children":1333},{"class":498},[1334],{"type":19,"value":127},{"type":14,"tag":76,"props":1336,"children":1337},{"class":83},[1338],{"type":19,"value":116},{"type":14,"tag":76,"props":1340,"children":1341},{"class":130},[1342],{"type":19,"value":1343},"'#98ABB9'\n",{"type":14,"tag":76,"props":1345,"children":1346},{"class":78,"line":535},[1347,1352,1356,1360],{"type":14,"tag":76,"props":1348,"children":1349},{"class":83},[1350],{"type":19,"value":1351},"            tip.id ",{"type":14,"tag":76,"props":1353,"children":1354},{"class":498},[1355],{"type":19,"value":127},{"type":14,"tag":76,"props":1357,"children":1358},{"class":83},[1359],{"type":19,"value":116},{"type":14,"tag":76,"props":1361,"children":1362},{"class":130},[1363],{"type":19,"value":1364},"'tip'\n",{"type":14,"tag":76,"props":1366,"children":1367},{"class":78,"line":553},[1368,1373,1377],{"type":14,"tag":76,"props":1369,"children":1370},{"class":83},[1371],{"type":19,"value":1372},"            item.",{"type":14,"tag":76,"props":1374,"children":1375},{"class":119},[1376],{"type":19,"value":722},{"type":14,"tag":76,"props":1378,"children":1379},{"class":83},[1380],{"type":19,"value":1381},"(tip)\n",{"type":14,"tag":76,"props":1383,"children":1384},{"class":78,"line":578},[1385],{"type":14,"tag":76,"props":1386,"children":1387},{"class":83},[1388],{"type":19,"value":1389},"          })\n",{"type":14,"tag":76,"props":1391,"children":1392},{"class":78,"line":586},[1393,1397],{"type":14,"tag":76,"props":1394,"children":1395},{"class":83},[1396],{"type":19,"value":1115},{"type":14,"tag":76,"props":1398,"children":1399},{"class":167},[1400],{"type":19,"value":1401},"// 光标离开后移除子元素\n",{"type":14,"tag":76,"props":1403,"children":1404},{"class":78,"line":654},[1405,1409,1413,1417,1422,1426,1430],{"type":14,"tag":76,"props":1406,"children":1407},{"class":83},[1408],{"type":19,"value":1128},{"type":14,"tag":76,"props":1410,"children":1411},{"class":119},[1412],{"type":19,"value":1133},{"type":14,"tag":76,"props":1414,"children":1415},{"class":83},[1416],{"type":19,"value":471},{"type":14,"tag":76,"props":1418,"children":1419},{"class":130},[1420],{"type":19,"value":1421},"'mouseout'",{"type":14,"tag":76,"props":1423,"children":1424},{"class":83},[1425],{"type":19,"value":1147},{"type":14,"tag":76,"props":1427,"children":1428},{"class":498},[1429],{"type":19,"value":1031},{"type":14,"tag":76,"props":1431,"children":1432},{"class":83},[1433],{"type":19,"value":1036},{"type":14,"tag":76,"props":1435,"children":1436},{"class":78,"line":711},[1437,1441,1445,1449,1454,1458,1462,1466,1470,1474,1479],{"type":14,"tag":76,"props":1438,"children":1439},{"class":83},[1440],{"type":19,"value":1163},{"type":14,"tag":76,"props":1442,"children":1443},{"class":498},[1444],{"type":19,"value":596},{"type":14,"tag":76,"props":1446,"children":1447},{"class":83},[1448],{"type":19,"value":116},{"type":14,"tag":76,"props":1450,"children":1451},{"class":562},[1452],{"type":19,"value":1453},"tips",{"type":14,"tag":76,"props":1455,"children":1456},{"class":83},[1457],{"type":19,"value":116},{"type":14,"tag":76,"props":1459,"children":1460},{"class":498},[1461],{"type":19,"value":127},{"type":14,"tag":76,"props":1463,"children":1464},{"class":83},[1465],{"type":19,"value":684},{"type":14,"tag":76,"props":1467,"children":1468},{"class":119},[1469],{"type":19,"value":983},{"type":14,"tag":76,"props":1471,"children":1472},{"class":83},[1473],{"type":19,"value":471},{"type":14,"tag":76,"props":1475,"children":1476},{"class":130},[1477],{"type":19,"value":1478},"'#tip'",{"type":14,"tag":76,"props":1480,"children":1481},{"class":83},[1482],{"type":19,"value":997},{"type":14,"tag":76,"props":1484,"children":1485},{"class":78,"line":754},[1486,1491,1495,1499,1503,1507,1511,1516,1521],{"type":14,"tag":76,"props":1487,"children":1488},{"class":83},[1489],{"type":19,"value":1490},"            tips.",{"type":14,"tag":76,"props":1492,"children":1493},{"class":119},[1494],{"type":19,"value":1010},{"type":14,"tag":76,"props":1496,"children":1497},{"class":83},[1498],{"type":19,"value":471},{"type":14,"tag":76,"props":1500,"children":1501},{"class":1018},[1502],{"type":19,"value":1021},{"type":14,"tag":76,"props":1504,"children":1505},{"class":83},[1506],{"type":19,"value":116},{"type":14,"tag":76,"props":1508,"children":1509},{"class":498},[1510],{"type":19,"value":1031},{"type":14,"tag":76,"props":1512,"children":1513},{"class":83},[1514],{"type":19,"value":1515}," item.",{"type":14,"tag":76,"props":1517,"children":1518},{"class":119},[1519],{"type":19,"value":1520},"remove",{"type":14,"tag":76,"props":1522,"children":1523},{"class":83},[1524],{"type":19,"value":1525},"())\n",{"type":14,"tag":76,"props":1527,"children":1528},{"class":78,"line":763},[1529],{"type":14,"tag":76,"props":1530,"children":1531},{"class":83},[1532],{"type":19,"value":1389},{"type":14,"tag":76,"props":1534,"children":1535},{"class":78,"line":772},[1536],{"type":14,"tag":76,"props":1537,"children":1538},{"class":83},[1539],{"type":19,"value":1540},"        }\n",{"type":14,"tag":76,"props":1542,"children":1543},{"class":78,"line":781},[1544],{"type":14,"tag":76,"props":1545,"children":1546},{"class":83},[1547],{"type":19,"value":1548},"      })\n",{"type":14,"tag":76,"props":1550,"children":1552},{"class":78,"line":1551},29,[1553],{"type":14,"tag":76,"props":1554,"children":1555},{"class":83},[1556],{"type":19,"value":769},{"type":14,"tag":76,"props":1558,"children":1560},{"class":78,"line":1559},30,[1561],{"type":14,"tag":76,"props":1562,"children":1563},{"class":83},[1564],{"type":19,"value":1565},"  }, {\n",{"type":14,"tag":76,"props":1567,"children":1569},{"class":78,"line":1568},31,[1570,1575],{"type":14,"tag":76,"props":1571,"children":1572},{"class":83},[1573],{"type":19,"value":1574},"  extends: ",{"type":14,"tag":76,"props":1576,"children":1577},{"class":130},[1578],{"type":19,"value":1579},"'span'\n",{"type":14,"tag":76,"props":1581,"children":1583},{"class":78,"line":1582},32,[1584],{"type":14,"tag":76,"props":1585,"children":1586},{"class":83},[1587],{"type":19,"value":1588},"})",{"type":14,"tag":61,"props":1590,"children":1593},{"className":1591,"code":1592,"language":66,"meta":5},[64],"\u003Cscript src=\"./card.js\" async>\u003C/script>\n\n\u003Cdiv>\n  \u003C!-- is 属性注明这是自定义的 tool-tip 元素 -->\n  \u003Cspan is=\"tool-tip\">tool-tip\u003C/span>\n\u003C/div>\n",[1594],{"type":14,"tag":69,"props":1595,"children":1596},{},[1597],{"type":14,"tag":61,"props":1598,"children":1599},{"__ignoreMap":5},[1600,1649,1656,1671,1683,1725],{"type":14,"tag":76,"props":1601,"children":1602},{"class":78,"line":79},[1603,1607,1611,1615,1619,1623,1628,1632,1637,1641,1645],{"type":14,"tag":76,"props":1604,"children":1605},{"class":83},[1606],{"type":19,"value":86},{"type":14,"tag":76,"props":1608,"children":1609},{"class":89},[1610],{"type":19,"value":448},{"type":14,"tag":76,"props":1612,"children":1613},{"class":83},[1614],{"type":19,"value":116},{"type":14,"tag":76,"props":1616,"children":1617},{"class":119},[1618],{"type":19,"value":262},{"type":14,"tag":76,"props":1620,"children":1621},{"class":83},[1622],{"type":19,"value":127},{"type":14,"tag":76,"props":1624,"children":1625},{"class":130},[1626],{"type":19,"value":1627},"\"./card.js\"",{"type":14,"tag":76,"props":1629,"children":1630},{"class":83},[1631],{"type":19,"value":116},{"type":14,"tag":76,"props":1633,"children":1634},{"class":119},[1635],{"type":19,"value":1636},"async",{"type":14,"tag":76,"props":1638,"children":1639},{"class":83},[1640],{"type":19,"value":402},{"type":14,"tag":76,"props":1642,"children":1643},{"class":89},[1644],{"type":19,"value":448},{"type":14,"tag":76,"props":1646,"children":1647},{"class":83},[1648],{"type":19,"value":97},{"type":14,"tag":76,"props":1650,"children":1651},{"class":78,"line":100},[1652],{"type":14,"tag":76,"props":1653,"children":1654},{},[1655],{"type":19,"value":359},{"type":14,"tag":76,"props":1657,"children":1658},{"class":78,"line":140},[1659,1663,1667],{"type":14,"tag":76,"props":1660,"children":1661},{"class":83},[1662],{"type":19,"value":86},{"type":14,"tag":76,"props":1664,"children":1665},{"class":89},[1666],{"type":19,"value":200},{"type":14,"tag":76,"props":1668,"children":1669},{"class":83},[1670],{"type":19,"value":97},{"type":14,"tag":76,"props":1672,"children":1673},{"class":78,"line":158},[1674,1678],{"type":14,"tag":76,"props":1675,"children":1676},{"class":83},[1677],{"type":19,"value":875},{"type":14,"tag":76,"props":1679,"children":1680},{"class":167},[1681],{"type":19,"value":1682},"\u003C!-- is 属性注明这是自定义的 tool-tip 元素 -->\n",{"type":14,"tag":76,"props":1684,"children":1685},{"class":78,"line":173},[1686,1690,1694,1698,1703,1707,1712,1717,1721],{"type":14,"tag":76,"props":1687,"children":1688},{"class":83},[1689],{"type":19,"value":106},{"type":14,"tag":76,"props":1691,"children":1692},{"class":89},[1693],{"type":19,"value":76},{"type":14,"tag":76,"props":1695,"children":1696},{"class":83},[1697],{"type":19,"value":116},{"type":14,"tag":76,"props":1699,"children":1700},{"class":119},[1701],{"type":19,"value":1702},"is",{"type":14,"tag":76,"props":1704,"children":1705},{"class":83},[1706],{"type":19,"value":127},{"type":14,"tag":76,"props":1708,"children":1709},{"class":130},[1710],{"type":19,"value":1711},"\"tool-tip\"",{"type":14,"tag":76,"props":1713,"children":1714},{"class":83},[1715],{"type":19,"value":1716},">tool-tip\u003C/",{"type":14,"tag":76,"props":1718,"children":1719},{"class":89},[1720],{"type":19,"value":76},{"type":14,"tag":76,"props":1722,"children":1723},{"class":83},[1724],{"type":19,"value":97},{"type":14,"tag":76,"props":1726,"children":1727},{"class":78,"line":190},[1728,1732,1736],{"type":14,"tag":76,"props":1729,"children":1730},{"class":83},[1731],{"type":19,"value":419},{"type":14,"tag":76,"props":1733,"children":1734},{"class":89},[1735],{"type":19,"value":200},{"type":14,"tag":76,"props":1737,"children":1738},{"class":83},[1739],{"type":19,"value":795},{"type":14,"tag":15,"props":1741,"children":1742},{},[1743,1744],{"type":19,"value":800},{"type":14,"tag":236,"props":1745,"children":1747},{"alt":803,"src":1746},"https://pic-base-1307984077.cos.ap-nanjing.myqcloud.com/202309091434319.png",[],{"type":14,"tag":807,"props":1749,"children":1750},{"id":111},[1751],{"type":19,"value":111},{"type":14,"tag":15,"props":1753,"children":1754},{},[1755,1757,1762],{"type":19,"value":1756},"Vue 开发者对此一定不陌生, 浏览器原生的 template 标签和内容物在加载页面时不会出现, 多数情况下仅做容器作用, 在 wpc 中可以理解为",{"type":14,"tag":22,"props":1758,"children":1759},{},[1760],{"type":19,"value":1761},"(可复用的)一组标签的容器",{"type":19,"value":626},{"type":14,"tag":807,"props":1764,"children":1766},{"id":1765},"slot",[1767],{"type":19,"value":1765},{"type":14,"tag":15,"props":1769,"children":1770},{},[1771,1773,1778],{"type":19,"value":1772},"slot(插槽的作用)就和其名字一样, 在模板中定义",{"type":14,"tag":22,"props":1774,"children":1775},{},[1776],{"type":19,"value":1777},"\u003Cslot>",{"type":19,"value":1779},"标签, 给他取个好听的名字, 页面上给 wcp 传入子元素就会被嵌入在定义插槽的位置.\n一个简单的示例:",{"type":14,"tag":61,"props":1781,"children":1784},{"className":1782,"code":1783,"language":834,"meta":5},[832],"const cardInner = `\n  \u003Cdiv>\n    \u003Cslot name=\"description\" style=\"font-style: italic; font-size: large;\">default description\u003C/slot>\n  \u003C/div>\n`\n",[1785],{"type":14,"tag":69,"props":1786,"children":1787},{},[1788],{"type":14,"tag":61,"props":1789,"children":1790},{"__ignoreMap":5},[1791,1824,1832,1840,1848],{"type":14,"tag":76,"props":1792,"children":1793},{"class":78,"line":79},[1794,1798,1802,1807,1811,1815,1819],{"type":14,"tag":76,"props":1795,"children":1796},{"class":498},[1797],{"type":19,"value":596},{"type":14,"tag":76,"props":1799,"children":1800},{"class":83},[1801],{"type":19,"value":116},{"type":14,"tag":76,"props":1803,"children":1804},{"class":562},[1805],{"type":19,"value":1806},"cardInner",{"type":14,"tag":76,"props":1808,"children":1809},{"class":83},[1810],{"type":19,"value":116},{"type":14,"tag":76,"props":1812,"children":1813},{"class":498},[1814],{"type":19,"value":127},{"type":14,"tag":76,"props":1816,"children":1817},{"class":83},[1818],{"type":19,"value":116},{"type":14,"tag":76,"props":1820,"children":1821},{"class":130},[1822],{"type":19,"value":1823},"`\n",{"type":14,"tag":76,"props":1825,"children":1826},{"class":78,"line":100},[1827],{"type":14,"tag":76,"props":1828,"children":1829},{"class":130},[1830],{"type":19,"value":1831},"  \u003Cdiv>\n",{"type":14,"tag":76,"props":1833,"children":1834},{"class":78,"line":140},[1835],{"type":14,"tag":76,"props":1836,"children":1837},{"class":130},[1838],{"type":19,"value":1839},"    \u003Cslot name=\"description\" style=\"font-style: italic; font-size: large;\">default description\u003C/slot>\n",{"type":14,"tag":76,"props":1841,"children":1842},{"class":78,"line":158},[1843],{"type":14,"tag":76,"props":1844,"children":1845},{"class":130},[1846],{"type":19,"value":1847},"  \u003C/div>\n",{"type":14,"tag":76,"props":1849,"children":1850},{"class":78,"line":173},[1851],{"type":14,"tag":76,"props":1852,"children":1853},{"class":130},[1854],{"type":19,"value":1855},"`",{"type":14,"tag":61,"props":1857,"children":1860},{"className":1858,"code":1859,"language":66,"meta":5},[64],"\u003Ccustom-card>\n  \u003C!-- slot 属性等于插槽名 -->\n  \u003Cspan slot=\"description\">Ray-D-Song\u003C/span>\n\u003C/custom-card>\n\u003C!-- 页面上会出现斜体的 Ray-D-Song -->\n",[1861],{"type":14,"tag":69,"props":1862,"children":1863},{},[1864],{"type":14,"tag":61,"props":1865,"children":1866},{"__ignoreMap":5},[1867,1882,1894,1935,1950],{"type":14,"tag":76,"props":1868,"children":1869},{"class":78,"line":79},[1870,1874,1878],{"type":14,"tag":76,"props":1871,"children":1872},{"class":83},[1873],{"type":19,"value":86},{"type":14,"tag":76,"props":1875,"children":1876},{"class":89},[1877],{"type":19,"value":397},{"type":14,"tag":76,"props":1879,"children":1880},{"class":83},[1881],{"type":19,"value":97},{"type":14,"tag":76,"props":1883,"children":1884},{"class":78,"line":100},[1885,1889],{"type":14,"tag":76,"props":1886,"children":1887},{"class":83},[1888],{"type":19,"value":875},{"type":14,"tag":76,"props":1890,"children":1891},{"class":167},[1892],{"type":19,"value":1893},"\u003C!-- slot 属性等于插槽名 -->\n",{"type":14,"tag":76,"props":1895,"children":1896},{"class":78,"line":140},[1897,1901,1905,1909,1913,1917,1922,1927,1931],{"type":14,"tag":76,"props":1898,"children":1899},{"class":83},[1900],{"type":19,"value":106},{"type":14,"tag":76,"props":1902,"children":1903},{"class":89},[1904],{"type":19,"value":76},{"type":14,"tag":76,"props":1906,"children":1907},{"class":83},[1908],{"type":19,"value":116},{"type":14,"tag":76,"props":1910,"children":1911},{"class":119},[1912],{"type":19,"value":1765},{"type":14,"tag":76,"props":1914,"children":1915},{"class":83},[1916],{"type":19,"value":127},{"type":14,"tag":76,"props":1918,"children":1919},{"class":130},[1920],{"type":19,"value":1921},"\"description\"",{"type":14,"tag":76,"props":1923,"children":1924},{"class":83},[1925],{"type":19,"value":1926},">Ray-D-Song\u003C/",{"type":14,"tag":76,"props":1928,"children":1929},{"class":89},[1930],{"type":19,"value":76},{"type":14,"tag":76,"props":1932,"children":1933},{"class":83},[1934],{"type":19,"value":97},{"type":14,"tag":76,"props":1936,"children":1937},{"class":78,"line":158},[1938,1942,1946],{"type":14,"tag":76,"props":1939,"children":1940},{"class":83},[1941],{"type":19,"value":419},{"type":14,"tag":76,"props":1943,"children":1944},{"class":89},[1945],{"type":19,"value":397},{"type":14,"tag":76,"props":1947,"children":1948},{"class":83},[1949],{"type":19,"value":97},{"type":14,"tag":76,"props":1951,"children":1952},{"class":78,"line":173},[1953],{"type":14,"tag":76,"props":1954,"children":1955},{"class":167},[1956],{"type":19,"value":1957},"\u003C!-- 页面上会出现斜体的 Ray-D-Song -->",{"type":14,"tag":807,"props":1959,"children":1961},{"id":1960},"shadow-dom",[1962],{"type":19,"value":1963},"shadow DOM",{"type":14,"tag":15,"props":1965,"children":1966},{},[1967],{"type":19,"value":1968},"如果你打开浏览器控制台查看WCP 的 DOM 树, 会发现类似以下结构:",{"type":14,"tag":61,"props":1970,"children":1973},{"className":1971,"code":1972,"language":66,"meta":5},[64],"\u003Chello-world>\n  #shadow-root (open)\n    \u003Cdiv>\n      Hello World\n    \u003C/div>\n\u003C/hello-world>\n",[1974],{"type":14,"tag":69,"props":1975,"children":1976},{},[1977],{"type":14,"tag":61,"props":1978,"children":1979},{"__ignoreMap":5},[1980,1996,2004,2019,2027,2042],{"type":14,"tag":76,"props":1981,"children":1982},{"class":78,"line":79},[1983,1987,1992],{"type":14,"tag":76,"props":1984,"children":1985},{"class":83},[1986],{"type":19,"value":86},{"type":14,"tag":76,"props":1988,"children":1989},{"class":89},[1990],{"type":19,"value":1991},"hello-world",{"type":14,"tag":76,"props":1993,"children":1994},{"class":83},[1995],{"type":19,"value":97},{"type":14,"tag":76,"props":1997,"children":1998},{"class":78,"line":100},[1999],{"type":14,"tag":76,"props":2000,"children":2001},{"class":83},[2002],{"type":19,"value":2003},"  #shadow-root (open)\n",{"type":14,"tag":76,"props":2005,"children":2006},{"class":78,"line":140},[2007,2011,2015],{"type":14,"tag":76,"props":2008,"children":2009},{"class":83},[2010],{"type":19,"value":146},{"type":14,"tag":76,"props":2012,"children":2013},{"class":89},[2014],{"type":19,"value":200},{"type":14,"tag":76,"props":2016,"children":2017},{"class":83},[2018],{"type":19,"value":97},{"type":14,"tag":76,"props":2020,"children":2021},{"class":78,"line":158},[2022],{"type":14,"tag":76,"props":2023,"children":2024},{"class":83},[2025],{"type":19,"value":2026},"      Hello World\n",{"type":14,"tag":76,"props":2028,"children":2029},{"class":78,"line":173},[2030,2034,2038],{"type":14,"tag":76,"props":2031,"children":2032},{"class":83},[2033],{"type":19,"value":179},{"type":14,"tag":76,"props":2035,"children":2036},{"class":89},[2037],{"type":19,"value":200},{"type":14,"tag":76,"props":2039,"children":2040},{"class":83},[2041],{"type":19,"value":97},{"type":14,"tag":76,"props":2043,"children":2044},{"class":78,"line":190},[2045,2049,2053],{"type":14,"tag":76,"props":2046,"children":2047},{"class":83},[2048],{"type":19,"value":419},{"type":14,"tag":76,"props":2050,"children":2051},{"class":89},[2052],{"type":19,"value":1991},{"type":14,"tag":76,"props":2054,"children":2055},{"class":83},[2056],{"type":19,"value":795},{"type":14,"tag":15,"props":2058,"children":2059},{},[2060,2065,2067,2072,2074,2079,2081,2086],{"type":14,"tag":22,"props":2061,"children":2062},{},[2063],{"type":19,"value":2064},"#shadow-root",{"type":19,"value":2066}," 表明这是一个 shadow DOM. 你可以将 shadow DOM 理解为一种封装容器, 它将一组元素与其他元素隔离.\n",{"type":14,"tag":22,"props":2068,"children":2069},{},[2070],{"type":19,"value":2071},"element-attachShadow({mode: 'open'})",{"type":19,"value":2073}," 方法用于将 shadow-root 附加到任何一个元素上. ",{"type":14,"tag":22,"props":2075,"children":2076},{},[2077],{"type":19,"value":2078},"mode",{"type":19,"value":2080}," 字段可以取",{"type":14,"tag":22,"props":2082,"children":2083},{},[2084],{"type":19,"value":2085},"open或closed",{"type":19,"value":2087},"(代表元素是否可被 JavaScript 操作).",{"type":14,"tag":807,"props":2089,"children":2091},{"id":2090},"生命周期",[2092],{"type":19,"value":2090},{"type":14,"tag":15,"props":2094,"children":2095},{},[2096,2098,2103,2105,2110],{"type":19,"value":2097},"wcp 有许多现代前端框架的特性, 例如生命周期. 在 ",{"type":14,"tag":22,"props":2099,"children":2100},{},[2101],{"type":19,"value":2102},"Vue",{"type":19,"value":2104}," 中, 组件拥有",{"type":14,"tag":22,"props":2106,"children":2107},{},[2108],{"type":19,"value":2109},"onBeforeMount(DOM挂载前)、onMounted(DOM挂载后)",{"type":19,"value":2111},"等生命周期.\nwcp 有以下生命周期:",{"type":14,"tag":2113,"props":2114,"children":2115},"table",{},[2116,2136],{"type":14,"tag":2117,"props":2118,"children":2119},"thead",{},[2120],{"type":14,"tag":2121,"props":2122,"children":2123},"tr",{},[2124,2131],{"type":14,"tag":2125,"props":2126,"children":2128},"th",{"align":2127},null,[2129],{"type":19,"value":2130},"回调函数",{"type":14,"tag":2125,"props":2132,"children":2133},{"align":2127},[2134],{"type":19,"value":2135},"描述",{"type":14,"tag":2137,"props":2138,"children":2139},"tbody",{},[2140,2154,2167,2180],{"type":14,"tag":2121,"props":2141,"children":2142},{},[2143,2149],{"type":14,"tag":2144,"props":2145,"children":2146},"td",{"align":2127},[2147],{"type":19,"value":2148},"connectedCallback",{"type":14,"tag":2144,"props":2150,"children":2151},{"align":2127},[2152],{"type":19,"value":2153},"首次插入页面时调用",{"type":14,"tag":2121,"props":2155,"children":2156},{},[2157,2162],{"type":14,"tag":2144,"props":2158,"children":2159},{"align":2127},[2160],{"type":19,"value":2161},"disconnectedCallback",{"type":14,"tag":2144,"props":2163,"children":2164},{"align":2127},[2165],{"type":19,"value":2166},"从页面中删除时调用",{"type":14,"tag":2121,"props":2168,"children":2169},{},[2170,2175],{"type":14,"tag":2144,"props":2171,"children":2172},{"align":2127},[2173],{"type":19,"value":2174},"adoptedCallback",{"type":14,"tag":2144,"props":2176,"children":2177},{"align":2127},[2178],{"type":19,"value":2179},"移动到新页面时调用",{"type":14,"tag":2121,"props":2181,"children":2182},{},[2183,2188],{"type":14,"tag":2144,"props":2184,"children":2185},{"align":2127},[2186],{"type":19,"value":2187},"attributeChangedCallback",{"type":14,"tag":2144,"props":2189,"children":2190},{"align":2127},[2191],{"type":19,"value":2192},"增加、删除、修改自身属性时调用",{"type":14,"tag":15,"props":2194,"children":2195},{},[2196],{"type":19,"value":2197},"例如我们希望组件被删除时弹窗:",{"type":14,"tag":61,"props":2199,"children":2202},{"className":2200,"code":2201,"language":834,"meta":5},[832],"class CustomComponent extends HTMLElement {\n  constructor() {\n    // ...\n  }\n\n  disconnectedCallback() {\n    window.alert(name + 'is removed')\n  }\n}\n",[2203],{"type":14,"tag":69,"props":2204,"children":2205},{},[2206],{"type":14,"tag":61,"props":2207,"children":2208},{"__ignoreMap":5},[2209,2245,2260,2272,2280,2287,2302,2338,2345],{"type":14,"tag":76,"props":2210,"children":2211},{"class":78,"line":79},[2212,2216,2220,2225,2229,2233,2237,2241],{"type":14,"tag":76,"props":2213,"children":2214},{"class":498},[2215],{"type":19,"value":209},{"type":14,"tag":76,"props":2217,"children":2218},{"class":83},[2219],{"type":19,"value":116},{"type":14,"tag":76,"props":2221,"children":2222},{"class":119},[2223],{"type":19,"value":2224},"CustomComponent",{"type":14,"tag":76,"props":2226,"children":2227},{"class":83},[2228],{"type":19,"value":116},{"type":14,"tag":76,"props":2230,"children":2231},{"class":498},[2232],{"type":19,"value":518},{"type":14,"tag":76,"props":2234,"children":2235},{"class":83},[2236],{"type":19,"value":116},{"type":14,"tag":76,"props":2238,"children":2239},{"class":119},[2240],{"type":19,"value":527},{"type":14,"tag":76,"props":2242,"children":2243},{"class":83},[2244],{"type":19,"value":1036},{"type":14,"tag":76,"props":2246,"children":2247},{"class":78,"line":100},[2248,2252,2256],{"type":14,"tag":76,"props":2249,"children":2250},{"class":83},[2251],{"type":19,"value":875},{"type":14,"tag":76,"props":2253,"children":2254},{"class":498},[2255],{"type":19,"value":545},{"type":14,"tag":76,"props":2257,"children":2258},{"class":83},[2259],{"type":19,"value":550},{"type":14,"tag":76,"props":2261,"children":2262},{"class":78,"line":140},[2263,2267],{"type":14,"tag":76,"props":2264,"children":2265},{"class":83},[2266],{"type":19,"value":495},{"type":14,"tag":76,"props":2268,"children":2269},{"class":167},[2270],{"type":19,"value":2271},"// ...\n",{"type":14,"tag":76,"props":2273,"children":2274},{"class":78,"line":158},[2275],{"type":14,"tag":76,"props":2276,"children":2277},{"class":83},[2278],{"type":19,"value":2279},"  }\n",{"type":14,"tag":76,"props":2281,"children":2282},{"class":78,"line":173},[2283],{"type":14,"tag":76,"props":2284,"children":2285},{},[2286],{"type":19,"value":359},{"type":14,"tag":76,"props":2288,"children":2289},{"class":78,"line":190},[2290,2294,2298],{"type":14,"tag":76,"props":2291,"children":2292},{"class":83},[2293],{"type":19,"value":875},{"type":14,"tag":76,"props":2295,"children":2296},{"class":119},[2297],{"type":19,"value":2161},{"type":14,"tag":76,"props":2299,"children":2300},{"class":83},[2301],{"type":19,"value":550},{"type":14,"tag":76,"props":2303,"children":2304},{"class":78,"line":225},[2305,2310,2315,2320,2325,2329,2334],{"type":14,"tag":76,"props":2306,"children":2307},{"class":83},[2308],{"type":19,"value":2309},"    window.",{"type":14,"tag":76,"props":2311,"children":2312},{"class":119},[2313],{"type":19,"value":2314},"alert",{"type":14,"tag":76,"props":2316,"children":2317},{"class":83},[2318],{"type":19,"value":2319},"(name ",{"type":14,"tag":76,"props":2321,"children":2322},{"class":498},[2323],{"type":19,"value":2324},"+",{"type":14,"tag":76,"props":2326,"children":2327},{"class":83},[2328],{"type":19,"value":116},{"type":14,"tag":76,"props":2330,"children":2331},{"class":130},[2332],{"type":19,"value":2333},"'is removed'",{"type":14,"tag":76,"props":2335,"children":2336},{"class":83},[2337],{"type":19,"value":997},{"type":14,"tag":76,"props":2339,"children":2340},{"class":78,"line":278},[2341],{"type":14,"tag":76,"props":2342,"children":2343},{"class":83},[2344],{"type":19,"value":2279},{"type":14,"tag":76,"props":2346,"children":2347},{"class":78,"line":320},[2348],{"type":14,"tag":76,"props":2349,"children":2350},{"class":83},[2351],{"type":19,"value":2352},"}",{"type":14,"tag":807,"props":2354,"children":2356},{"id":2355},"简化操作",[2357],{"type":19,"value":2355},{"type":14,"tag":15,"props":2359,"children":2360},{},[2361,2363,2368,2370,2374,2376,2381,2383,2392,2394,2399],{"type":19,"value":2362},"不少文章都会选择用上面这种方式: JS 的 DOM API 去各种",{"type":14,"tag":22,"props":2364,"children":2365},{},[2366],{"type":19,"value":2367},"createElement appendChild",{"type":19,"value":2369},", 或者用",{"type":14,"tag":22,"props":2371,"children":2372},{},[2373],{"type":19,"value":689},{"type":19,"value":2375},"之类的的 api 获取 ",{"type":14,"tag":22,"props":2377,"children":2378},{},[2379],{"type":19,"value":2380},"\u003Ctemplate>",{"type":19,"value":2382}," 标签的内容, 但我个人觉得这实在是太操蛋了. (类似操作可见",{"type":14,"tag":2384,"props":2385,"children":2389},"a",{"href":2386,"rel":2387},"https://developer.mozilla.org/zh-CN/docs/Web/API/Web_components/Using_custom_elements",[2388],"nofollow",[2390],{"type":19,"value":2391},"MDN",{"type":19,"value":2393},")\n如果你有一个需要复用的 Button. 上面这种做法就要求所有用到的页面都复制一份 Button 的 template, 还谈个屁的封装, 理想状态下一个(或多个)组件应该被包含在一个 js 文件中.\n有一种比较好的做法是封装一个",{"type":14,"tag":22,"props":2395,"children":2396},{},[2397],{"type":19,"value":2398},"用组件名和模板内容字符串就可以创建组件",{"type":19,"value":2400},"的工具方法:",{"type":14,"tag":61,"props":2402,"children":2405},{"className":2403,"code":2404,"language":834,"meta":5},[832],"const useWebComponent = ({name, templateInner}) => {\n  window.customElements.define(name, // 注册\n    class CustomComponent extends HTMLElement {\n      constructor() {\n        super()\n        this.attachShadow({mode: 'open'})\n        const template = document.createElement('template') // 创建模板元素\n        template.innerHTML = templateInner\n        this.shadowRoot.append(template.content) // 拼接\n      }\n  })\n}\n\nconst batchRegister = (param) => { // 批量注册, param 为数组\n  param.forEach((item) => {\n    useWebComponent({name: item.name, templateInner: item.templateInner})\n  })\n}\n\nconst helloWorldInner = `\n  \u003Cdiv style=\"\n    color: cornflowerblue;\n    font-size: 18px;\n    \">\n    Hello World\n  \u003C/div>\n`\n\nconst cardInner = `\n  \u003Cdiv>\n    \u003Cdiv>Just a test\u003C/div>\n  \u003C/div>\n`\n\nconst componentList = [\n  {name: 'hello-world', templateInner: helloWorldInner},\n  {name: 'custom-card', templateInner: cardInner}\n]\n\nbatchRegister(componentList) // 批量注册\n",[2406],{"type":14,"tag":69,"props":2407,"children":2408},{},[2409],{"type":14,"tag":61,"props":2410,"children":2411},{"__ignoreMap":5},[2412,2468,2490,2529,2544,2559,2591,2644,2661,2692,2699,2707,2715,2722,2773,2805,2821,2828,2835,2842,2874,2882,2890,2898,2906,2914,2921,2928,2935,2966,2973,2981,2988,2996,3004,3034,3053,3070,3079,3087],{"type":14,"tag":76,"props":2413,"children":2414},{"class":78,"line":79},[2415,2419,2423,2428,2432,2436,2441,2446,2451,2456,2460,2464],{"type":14,"tag":76,"props":2416,"children":2417},{"class":498},[2418],{"type":19,"value":596},{"type":14,"tag":76,"props":2420,"children":2421},{"class":83},[2422],{"type":19,"value":116},{"type":14,"tag":76,"props":2424,"children":2425},{"class":119},[2426],{"type":19,"value":2427},"useWebComponent",{"type":14,"tag":76,"props":2429,"children":2430},{"class":83},[2431],{"type":19,"value":116},{"type":14,"tag":76,"props":2433,"children":2434},{"class":498},[2435],{"type":19,"value":127},{"type":14,"tag":76,"props":2437,"children":2438},{"class":83},[2439],{"type":19,"value":2440}," ({",{"type":14,"tag":76,"props":2442,"children":2443},{"class":1018},[2444],{"type":19,"value":2445},"name",{"type":14,"tag":76,"props":2447,"children":2448},{"class":83},[2449],{"type":19,"value":2450},", ",{"type":14,"tag":76,"props":2452,"children":2453},{"class":1018},[2454],{"type":19,"value":2455},"templateInner",{"type":14,"tag":76,"props":2457,"children":2458},{"class":83},[2459],{"type":19,"value":646},{"type":14,"tag":76,"props":2461,"children":2462},{"class":498},[2463],{"type":19,"value":1031},{"type":14,"tag":76,"props":2465,"children":2466},{"class":83},[2467],{"type":19,"value":1036},{"type":14,"tag":76,"props":2469,"children":2470},{"class":78,"line":100},[2471,2476,2480,2485],{"type":14,"tag":76,"props":2472,"children":2473},{"class":83},[2474],{"type":19,"value":2475},"  window.customElements.",{"type":14,"tag":76,"props":2477,"children":2478},{"class":119},[2479],{"type":19,"value":466},{"type":14,"tag":76,"props":2481,"children":2482},{"class":83},[2483],{"type":19,"value":2484},"(name, ",{"type":14,"tag":76,"props":2486,"children":2487},{"class":167},[2488],{"type":19,"value":2489},"// 注册\n",{"type":14,"tag":76,"props":2491,"children":2492},{"class":78,"line":140},[2493,2497,2501,2505,2509,2513,2517,2521,2525],{"type":14,"tag":76,"props":2494,"children":2495},{"class":83},[2496],{"type":19,"value":495},{"type":14,"tag":76,"props":2498,"children":2499},{"class":498},[2500],{"type":19,"value":209},{"type":14,"tag":76,"props":2502,"children":2503},{"class":83},[2504],{"type":19,"value":116},{"type":14,"tag":76,"props":2506,"children":2507},{"class":119},[2508],{"type":19,"value":2224},{"type":14,"tag":76,"props":2510,"children":2511},{"class":83},[2512],{"type":19,"value":116},{"type":14,"tag":76,"props":2514,"children":2515},{"class":498},[2516],{"type":19,"value":518},{"type":14,"tag":76,"props":2518,"children":2519},{"class":83},[2520],{"type":19,"value":116},{"type":14,"tag":76,"props":2522,"children":2523},{"class":119},[2524],{"type":19,"value":527},{"type":14,"tag":76,"props":2526,"children":2527},{"class":83},[2528],{"type":19,"value":1036},{"type":14,"tag":76,"props":2530,"children":2531},{"class":78,"line":158},[2532,2536,2540],{"type":14,"tag":76,"props":2533,"children":2534},{"class":83},[2535],{"type":19,"value":164},{"type":14,"tag":76,"props":2537,"children":2538},{"class":498},[2539],{"type":19,"value":545},{"type":14,"tag":76,"props":2541,"children":2542},{"class":83},[2543],{"type":19,"value":550},{"type":14,"tag":76,"props":2545,"children":2546},{"class":78,"line":173},[2547,2551,2555],{"type":14,"tag":76,"props":2548,"children":2549},{"class":83},[2550],{"type":19,"value":559},{"type":14,"tag":76,"props":2552,"children":2553},{"class":562},[2554],{"type":19,"value":565},{"type":14,"tag":76,"props":2556,"children":2557},{"class":83},[2558],{"type":19,"value":946},{"type":14,"tag":76,"props":2560,"children":2561},{"class":78,"line":190},[2562,2566,2570,2574,2578,2582,2586],{"type":14,"tag":76,"props":2563,"children":2564},{"class":83},[2565],{"type":19,"value":559},{"type":14,"tag":76,"props":2567,"children":2568},{"class":562},[2569],{"type":19,"value":621},{"type":14,"tag":76,"props":2571,"children":2572},{"class":83},[2573],{"type":19,"value":626},{"type":14,"tag":76,"props":2575,"children":2576},{"class":119},[2577],{"type":19,"value":631},{"type":14,"tag":76,"props":2579,"children":2580},{"class":83},[2581],{"type":19,"value":636},{"type":14,"tag":76,"props":2583,"children":2584},{"class":130},[2585],{"type":19,"value":641},{"type":14,"tag":76,"props":2587,"children":2588},{"class":83},[2589],{"type":19,"value":2590},"})\n",{"type":14,"tag":76,"props":2592,"children":2593},{"class":78,"line":225},[2594,2598,2602,2606,2610,2614,2618,2622,2626,2630,2635,2639],{"type":14,"tag":76,"props":2595,"children":2596},{"class":83},[2597],{"type":19,"value":559},{"type":14,"tag":76,"props":2599,"children":2600},{"class":498},[2601],{"type":19,"value":596},{"type":14,"tag":76,"props":2603,"children":2604},{"class":83},[2605],{"type":19,"value":116},{"type":14,"tag":76,"props":2607,"children":2608},{"class":562},[2609],{"type":19,"value":111},{"type":14,"tag":76,"props":2611,"children":2612},{"class":83},[2613],{"type":19,"value":116},{"type":14,"tag":76,"props":2615,"children":2616},{"class":498},[2617],{"type":19,"value":127},{"type":14,"tag":76,"props":2619,"children":2620},{"class":83},[2621],{"type":19,"value":684},{"type":14,"tag":76,"props":2623,"children":2624},{"class":119},[2625],{"type":19,"value":1193},{"type":14,"tag":76,"props":2627,"children":2628},{"class":83},[2629],{"type":19,"value":471},{"type":14,"tag":76,"props":2631,"children":2632},{"class":130},[2633],{"type":19,"value":2634},"'template'",{"type":14,"tag":76,"props":2636,"children":2637},{"class":83},[2638],{"type":19,"value":1026},{"type":14,"tag":76,"props":2640,"children":2641},{"class":167},[2642],{"type":19,"value":2643},"// 创建模板元素\n",{"type":14,"tag":76,"props":2645,"children":2646},{"class":78,"line":278},[2647,2652,2656],{"type":14,"tag":76,"props":2648,"children":2649},{"class":83},[2650],{"type":19,"value":2651},"        template.innerHTML ",{"type":14,"tag":76,"props":2653,"children":2654},{"class":498},[2655],{"type":19,"value":127},{"type":14,"tag":76,"props":2657,"children":2658},{"class":83},[2659],{"type":19,"value":2660}," templateInner\n",{"type":14,"tag":76,"props":2662,"children":2663},{"class":78,"line":320},[2664,2668,2672,2677,2682,2687],{"type":14,"tag":76,"props":2665,"children":2666},{"class":83},[2667],{"type":19,"value":559},{"type":14,"tag":76,"props":2669,"children":2670},{"class":562},[2671],{"type":19,"value":621},{"type":14,"tag":76,"props":2673,"children":2674},{"class":83},[2675],{"type":19,"value":2676},".shadowRoot.",{"type":14,"tag":76,"props":2678,"children":2679},{"class":119},[2680],{"type":19,"value":2681},"append",{"type":14,"tag":76,"props":2683,"children":2684},{"class":83},[2685],{"type":19,"value":2686},"(template.content) ",{"type":14,"tag":76,"props":2688,"children":2689},{"class":167},[2690],{"type":19,"value":2691},"// 拼接\n",{"type":14,"tag":76,"props":2693,"children":2694},{"class":78,"line":336},[2695],{"type":14,"tag":76,"props":2696,"children":2697},{"class":83},[2698],{"type":19,"value":760},{"type":14,"tag":76,"props":2700,"children":2701},{"class":78,"line":353},[2702],{"type":14,"tag":76,"props":2703,"children":2704},{"class":83},[2705],{"type":19,"value":2706},"  })\n",{"type":14,"tag":76,"props":2708,"children":2709},{"class":78,"line":362},[2710],{"type":14,"tag":76,"props":2711,"children":2712},{"class":83},[2713],{"type":19,"value":2714},"}\n",{"type":14,"tag":76,"props":2716,"children":2717},{"class":78,"line":387},[2718],{"type":14,"tag":76,"props":2719,"children":2720},{},[2721],{"type":19,"value":359},{"type":14,"tag":76,"props":2723,"children":2724},{"class":78,"line":413},[2725,2729,2733,2738,2742,2746,2751,2756,2760,2764,2768],{"type":14,"tag":76,"props":2726,"children":2727},{"class":498},[2728],{"type":19,"value":596},{"type":14,"tag":76,"props":2730,"children":2731},{"class":83},[2732],{"type":19,"value":116},{"type":14,"tag":76,"props":2734,"children":2735},{"class":119},[2736],{"type":19,"value":2737},"batchRegister",{"type":14,"tag":76,"props":2739,"children":2740},{"class":83},[2741],{"type":19,"value":116},{"type":14,"tag":76,"props":2743,"children":2744},{"class":498},[2745],{"type":19,"value":127},{"type":14,"tag":76,"props":2747,"children":2748},{"class":83},[2749],{"type":19,"value":2750}," (",{"type":14,"tag":76,"props":2752,"children":2753},{"class":1018},[2754],{"type":19,"value":2755},"param",{"type":14,"tag":76,"props":2757,"children":2758},{"class":83},[2759],{"type":19,"value":1026},{"type":14,"tag":76,"props":2761,"children":2762},{"class":498},[2763],{"type":19,"value":1031},{"type":14,"tag":76,"props":2765,"children":2766},{"class":83},[2767],{"type":19,"value":910},{"type":14,"tag":76,"props":2769,"children":2770},{"class":167},[2771],{"type":19,"value":2772},"// 批量注册, param 为数组\n",{"type":14,"tag":76,"props":2774,"children":2775},{"class":78,"line":430},[2776,2781,2785,2789,2793,2797,2801],{"type":14,"tag":76,"props":2777,"children":2778},{"class":83},[2779],{"type":19,"value":2780},"  param.",{"type":14,"tag":76,"props":2782,"children":2783},{"class":119},[2784],{"type":19,"value":1010},{"type":14,"tag":76,"props":2786,"children":2787},{"class":83},[2788],{"type":19,"value":1015},{"type":14,"tag":76,"props":2790,"children":2791},{"class":1018},[2792],{"type":19,"value":1021},{"type":14,"tag":76,"props":2794,"children":2795},{"class":83},[2796],{"type":19,"value":1026},{"type":14,"tag":76,"props":2798,"children":2799},{"class":498},[2800],{"type":19,"value":1031},{"type":14,"tag":76,"props":2802,"children":2803},{"class":83},[2804],{"type":19,"value":1036},{"type":14,"tag":76,"props":2806,"children":2807},{"class":78,"line":438},[2808,2812,2816],{"type":14,"tag":76,"props":2809,"children":2810},{"class":83},[2811],{"type":19,"value":495},{"type":14,"tag":76,"props":2813,"children":2814},{"class":119},[2815],{"type":19,"value":2427},{"type":14,"tag":76,"props":2817,"children":2818},{"class":83},[2819],{"type":19,"value":2820},"({name: item.name, templateInner: item.templateInner})\n",{"type":14,"tag":76,"props":2822,"children":2823},{"class":78,"line":455},[2824],{"type":14,"tag":76,"props":2825,"children":2826},{"class":83},[2827],{"type":19,"value":2706},{"type":14,"tag":76,"props":2829,"children":2830},{"class":78,"line":489},[2831],{"type":14,"tag":76,"props":2832,"children":2833},{"class":83},[2834],{"type":19,"value":2714},{"type":14,"tag":76,"props":2836,"children":2837},{"class":78,"line":535},[2838],{"type":14,"tag":76,"props":2839,"children":2840},{},[2841],{"type":19,"value":359},{"type":14,"tag":76,"props":2843,"children":2844},{"class":78,"line":553},[2845,2849,2853,2858,2862,2866,2870],{"type":14,"tag":76,"props":2846,"children":2847},{"class":498},[2848],{"type":19,"value":596},{"type":14,"tag":76,"props":2850,"children":2851},{"class":83},[2852],{"type":19,"value":116},{"type":14,"tag":76,"props":2854,"children":2855},{"class":562},[2856],{"type":19,"value":2857},"helloWorldInner",{"type":14,"tag":76,"props":2859,"children":2860},{"class":83},[2861],{"type":19,"value":116},{"type":14,"tag":76,"props":2863,"children":2864},{"class":498},[2865],{"type":19,"value":127},{"type":14,"tag":76,"props":2867,"children":2868},{"class":83},[2869],{"type":19,"value":116},{"type":14,"tag":76,"props":2871,"children":2872},{"class":130},[2873],{"type":19,"value":1823},{"type":14,"tag":76,"props":2875,"children":2876},{"class":78,"line":578},[2877],{"type":14,"tag":76,"props":2878,"children":2879},{"class":130},[2880],{"type":19,"value":2881},"  \u003Cdiv style=\"\n",{"type":14,"tag":76,"props":2883,"children":2884},{"class":78,"line":586},[2885],{"type":14,"tag":76,"props":2886,"children":2887},{"class":130},[2888],{"type":19,"value":2889},"    color: cornflowerblue;\n",{"type":14,"tag":76,"props":2891,"children":2892},{"class":78,"line":654},[2893],{"type":14,"tag":76,"props":2894,"children":2895},{"class":130},[2896],{"type":19,"value":2897},"    font-size: 18px;\n",{"type":14,"tag":76,"props":2899,"children":2900},{"class":78,"line":711},[2901],{"type":14,"tag":76,"props":2902,"children":2903},{"class":130},[2904],{"type":19,"value":2905},"    \">\n",{"type":14,"tag":76,"props":2907,"children":2908},{"class":78,"line":754},[2909],{"type":14,"tag":76,"props":2910,"children":2911},{"class":130},[2912],{"type":19,"value":2913},"    Hello World\n",{"type":14,"tag":76,"props":2915,"children":2916},{"class":78,"line":763},[2917],{"type":14,"tag":76,"props":2918,"children":2919},{"class":130},[2920],{"type":19,"value":1847},{"type":14,"tag":76,"props":2922,"children":2923},{"class":78,"line":772},[2924],{"type":14,"tag":76,"props":2925,"children":2926},{"class":130},[2927],{"type":19,"value":1823},{"type":14,"tag":76,"props":2929,"children":2930},{"class":78,"line":781},[2931],{"type":14,"tag":76,"props":2932,"children":2933},{},[2934],{"type":19,"value":359},{"type":14,"tag":76,"props":2936,"children":2937},{"class":78,"line":1551},[2938,2942,2946,2950,2954,2958,2962],{"type":14,"tag":76,"props":2939,"children":2940},{"class":498},[2941],{"type":19,"value":596},{"type":14,"tag":76,"props":2943,"children":2944},{"class":83},[2945],{"type":19,"value":116},{"type":14,"tag":76,"props":2947,"children":2948},{"class":562},[2949],{"type":19,"value":1806},{"type":14,"tag":76,"props":2951,"children":2952},{"class":83},[2953],{"type":19,"value":116},{"type":14,"tag":76,"props":2955,"children":2956},{"class":498},[2957],{"type":19,"value":127},{"type":14,"tag":76,"props":2959,"children":2960},{"class":83},[2961],{"type":19,"value":116},{"type":14,"tag":76,"props":2963,"children":2964},{"class":130},[2965],{"type":19,"value":1823},{"type":14,"tag":76,"props":2967,"children":2968},{"class":78,"line":1559},[2969],{"type":14,"tag":76,"props":2970,"children":2971},{"class":130},[2972],{"type":19,"value":1831},{"type":14,"tag":76,"props":2974,"children":2975},{"class":78,"line":1568},[2976],{"type":14,"tag":76,"props":2977,"children":2978},{"class":130},[2979],{"type":19,"value":2980},"    \u003Cdiv>Just a test\u003C/div>\n",{"type":14,"tag":76,"props":2982,"children":2983},{"class":78,"line":1582},[2984],{"type":14,"tag":76,"props":2985,"children":2986},{"class":130},[2987],{"type":19,"value":1847},{"type":14,"tag":76,"props":2989,"children":2991},{"class":78,"line":2990},33,[2992],{"type":14,"tag":76,"props":2993,"children":2994},{"class":130},[2995],{"type":19,"value":1823},{"type":14,"tag":76,"props":2997,"children":2999},{"class":78,"line":2998},34,[3000],{"type":14,"tag":76,"props":3001,"children":3002},{},[3003],{"type":19,"value":359},{"type":14,"tag":76,"props":3005,"children":3007},{"class":78,"line":3006},35,[3008,3012,3016,3021,3025,3029],{"type":14,"tag":76,"props":3009,"children":3010},{"class":498},[3011],{"type":19,"value":596},{"type":14,"tag":76,"props":3013,"children":3014},{"class":83},[3015],{"type":19,"value":116},{"type":14,"tag":76,"props":3017,"children":3018},{"class":562},[3019],{"type":19,"value":3020},"componentList",{"type":14,"tag":76,"props":3022,"children":3023},{"class":83},[3024],{"type":19,"value":116},{"type":14,"tag":76,"props":3026,"children":3027},{"class":498},[3028],{"type":19,"value":127},{"type":14,"tag":76,"props":3030,"children":3031},{"class":83},[3032],{"type":19,"value":3033}," [\n",{"type":14,"tag":76,"props":3035,"children":3037},{"class":78,"line":3036},36,[3038,3043,3048],{"type":14,"tag":76,"props":3039,"children":3040},{"class":83},[3041],{"type":19,"value":3042},"  {name: ",{"type":14,"tag":76,"props":3044,"children":3045},{"class":130},[3046],{"type":19,"value":3047},"'hello-world'",{"type":14,"tag":76,"props":3049,"children":3050},{"class":83},[3051],{"type":19,"value":3052},", templateInner: helloWorldInner},\n",{"type":14,"tag":76,"props":3054,"children":3056},{"class":78,"line":3055},37,[3057,3061,3065],{"type":14,"tag":76,"props":3058,"children":3059},{"class":83},[3060],{"type":19,"value":3042},{"type":14,"tag":76,"props":3062,"children":3063},{"class":130},[3064],{"type":19,"value":476},{"type":14,"tag":76,"props":3066,"children":3067},{"class":83},[3068],{"type":19,"value":3069},", templateInner: cardInner}\n",{"type":14,"tag":76,"props":3071,"children":3073},{"class":78,"line":3072},38,[3074],{"type":14,"tag":76,"props":3075,"children":3076},{"class":83},[3077],{"type":19,"value":3078},"]\n",{"type":14,"tag":76,"props":3080,"children":3082},{"class":78,"line":3081},39,[3083],{"type":14,"tag":76,"props":3084,"children":3085},{},[3086],{"type":19,"value":359},{"type":14,"tag":76,"props":3088,"children":3090},{"class":78,"line":3089},40,[3091,3095,3100],{"type":14,"tag":76,"props":3092,"children":3093},{"class":119},[3094],{"type":19,"value":2737},{"type":14,"tag":76,"props":3096,"children":3097},{"class":83},[3098],{"type":19,"value":3099},"(componentList) ",{"type":14,"tag":76,"props":3101,"children":3102},{"class":167},[3103],{"type":19,"value":3104},"// 批量注册",{"type":14,"tag":61,"props":3106,"children":3109},{"className":3107,"code":3108,"language":66,"meta":5},[64],"\u003Cscript src=\"./index.js\">\u003C/script>\n\n\u003Cdiv>\n  \u003Chello-world>\u003C/hello-world>\n  \u003Ccustom-card>\u003C/custom-card>\n\u003C/div>\n",[3110],{"type":14,"tag":69,"props":3111,"children":3112},{},[3113],{"type":14,"tag":61,"props":3114,"children":3115},{"__ignoreMap":5},[3116,3156,3163,3178,3201,3224],{"type":14,"tag":76,"props":3117,"children":3118},{"class":78,"line":79},[3119,3123,3127,3131,3135,3139,3144,3148,3152],{"type":14,"tag":76,"props":3120,"children":3121},{"class":83},[3122],{"type":19,"value":86},{"type":14,"tag":76,"props":3124,"children":3125},{"class":89},[3126],{"type":19,"value":448},{"type":14,"tag":76,"props":3128,"children":3129},{"class":83},[3130],{"type":19,"value":116},{"type":14,"tag":76,"props":3132,"children":3133},{"class":119},[3134],{"type":19,"value":262},{"type":14,"tag":76,"props":3136,"children":3137},{"class":83},[3138],{"type":19,"value":127},{"type":14,"tag":76,"props":3140,"children":3141},{"class":130},[3142],{"type":19,"value":3143},"\"./index.js\"",{"type":14,"tag":76,"props":3145,"children":3146},{"class":83},[3147],{"type":19,"value":402},{"type":14,"tag":76,"props":3149,"children":3150},{"class":89},[3151],{"type":19,"value":448},{"type":14,"tag":76,"props":3153,"children":3154},{"class":83},[3155],{"type":19,"value":97},{"type":14,"tag":76,"props":3157,"children":3158},{"class":78,"line":100},[3159],{"type":14,"tag":76,"props":3160,"children":3161},{},[3162],{"type":19,"value":359},{"type":14,"tag":76,"props":3164,"children":3165},{"class":78,"line":140},[3166,3170,3174],{"type":14,"tag":76,"props":3167,"children":3168},{"class":83},[3169],{"type":19,"value":86},{"type":14,"tag":76,"props":3171,"children":3172},{"class":89},[3173],{"type":19,"value":200},{"type":14,"tag":76,"props":3175,"children":3176},{"class":83},[3177],{"type":19,"value":97},{"type":14,"tag":76,"props":3179,"children":3180},{"class":78,"line":158},[3181,3185,3189,3193,3197],{"type":14,"tag":76,"props":3182,"children":3183},{"class":83},[3184],{"type":19,"value":106},{"type":14,"tag":76,"props":3186,"children":3187},{"class":89},[3188],{"type":19,"value":1991},{"type":14,"tag":76,"props":3190,"children":3191},{"class":83},[3192],{"type":19,"value":402},{"type":14,"tag":76,"props":3194,"children":3195},{"class":89},[3196],{"type":19,"value":1991},{"type":14,"tag":76,"props":3198,"children":3199},{"class":83},[3200],{"type":19,"value":97},{"type":14,"tag":76,"props":3202,"children":3203},{"class":78,"line":173},[3204,3208,3212,3216,3220],{"type":14,"tag":76,"props":3205,"children":3206},{"class":83},[3207],{"type":19,"value":106},{"type":14,"tag":76,"props":3209,"children":3210},{"class":89},[3211],{"type":19,"value":397},{"type":14,"tag":76,"props":3213,"children":3214},{"class":83},[3215],{"type":19,"value":402},{"type":14,"tag":76,"props":3217,"children":3218},{"class":89},[3219],{"type":19,"value":397},{"type":14,"tag":76,"props":3221,"children":3222},{"class":83},[3223],{"type":19,"value":97},{"type":14,"tag":76,"props":3225,"children":3226},{"class":78,"line":190},[3227,3231,3235],{"type":14,"tag":76,"props":3228,"children":3229},{"class":83},[3230],{"type":19,"value":419},{"type":14,"tag":76,"props":3232,"children":3233},{"class":89},[3234],{"type":19,"value":200},{"type":14,"tag":76,"props":3236,"children":3237},{"class":83},[3238],{"type":19,"value":795},{"type":14,"tag":15,"props":3240,"children":3241},{},[3242,3244,3249,3251,3256],{"type":19,"value":3243},"在 webstorm 下,  形如",{"type":14,"tag":22,"props":3245,"children":3246},{},[3247],{"type":19,"value":3248},"innerHTML",{"type":19,"value":3250},"的字符串会被自动识别为 HTML 元素, 有代码提示和着色, vsocde 用户可以安装",{"type":14,"tag":22,"props":3252,"children":3253},{},[3254],{"type":19,"value":3255},"inline HTML",{"type":19,"value":3257},"插件.",{"type":14,"tag":3259,"props":3260,"children":3261},"blockquote",{},[3262],{"type":14,"tag":15,"props":3263,"children":3264},{},[3265,3267,3272,3274,3279],{"type":19,"value":3266},"其实 Web Components 非常适合作为前端框架的",{"type":14,"tag":22,"props":3268,"children":3269},{},[3270],{"type":19,"value":3271},"底层组件",{"type":19,"value":3273},", 如果你只是想实现一个轻量化的框架而不是一整套解决方案的话, 编译到 Web Components 就非常合适. ",{"type":14,"tag":22,"props":3275,"children":3276},{},[3277],{"type":19,"value":3278},"lit",{"type":19,"value":3280},"就是这种思路的产物.",{"type":14,"tag":151,"children":3282},[3283],{"type":19,"value":3284},".ct-212337{color:#E1E4E8;}\n.light .ct-212337{color:#24292E;}\n.ct-735963{color:#85E89D;}\n.light .ct-735963{color:#22863A;}\n.ct-941699{color:#B392F0;}\n.light .ct-941699{color:#6F42C1;}\n.ct-695486{color:#9ECBFF;}\n.light .ct-695486{color:#032F62;}\n.ct-782603{color:#6A737D;}\n.ct-984823{color:#F97583;}\n.light .ct-984823{color:#D73A49;}\n.ct-055721{color:#79B8FF;}\n.light .ct-055721{color:#005CC5;}\n.ct-880416{color:#FFAB70;}\n.light .ct-880416{color:#E36209;}",{"title":5,"searchDepth":100,"depth":100,"links":3286},[3287,3288,3289,3290,3291,3292],{"id":809,"depth":100,"text":812},{"id":111,"depth":100,"text":111},{"id":1765,"depth":100,"text":1765},{"id":1960,"depth":100,"text":1963},{"id":2090,"depth":100,"text":2090},{"id":2355,"depth":100,"text":2355},"markdown","content:1694241377468.md","content","1694241377468.md","md",1694250190773]